"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var core_1 = require('@angular/core');
var forms_1 = require('@angular/forms');
var router_1 = require('@angular/router');
var first_pipe_1 = require('../shared/pipes/first.pipe');
var index_1 = require('../shared/forgetpassword/index');
var mydateformat_pipe_1 = require('../shared/pipes/mydateformat.pipe');
var emailvalidate_pipe_1 = require('../shared/pipes/emailvalidate.pipe');
var validator_directive_1 = require('../shared/validators/validator.directive');
var baseurl_service_1 = require('../shared/baseurl/baseurl.service');
var ForgetPasswordComponent = (function () {
    function ForgetPasswordComponent(fb, route, router, localService, mycur, mydate1, emailval, baseUrlservice) {
        this.fb = fb;
        this.route = route;
        this.router = router;
        this.localService = localService;
        this.mycur = mycur;
        this.mydate1 = mydate1;
        this.emailval = emailval;
        this.baseUrlservice = baseUrlservice;
        this.msgs = [];
        this.forgetpasswords = [];
        this.drpvar = [];
        this.drpforgetpassword = [];
        this.uploadedFiles = [];
        this.fileuploadarr = [];
        this.mybaseurl = baseUrlservice.getBaseurl();
    }
    ForgetPasswordComponent.prototype.clear = function () {
        this.newforgetpassword = true;
        this.forgetpassword = {
            status: 'active',
            comp_id: '',
            member_id: '',
            forgetpassword_id: '1',
            forgetpassword_name: '',
            forgetpassword_budget: '',
            forgetpassword_enddate: '',
            forgetpassword_remarks: '',
            forgetpassword_manhours: '',
            ForgetPassword_timeframe: '',
            forgetpassword_completed: 'No',
            forgetpassword_startdate: '',
            forgetpassword_commission: '',
            forgetpassword_description: '',
            forgetpassword_requireddaystocomplete: '',
        };
        this.fileupload = {
            fileName: '',
            fileType: '',
            filePath: '',
            fileStatus: '',
            uploadfile_filename: ''
        };
    };
    ForgetPasswordComponent.prototype.onRowSelect = function (event) {
        this.newforgetpassword = false;
        var tempproj;
        tempproj = this.selectedRow;
    };
    ForgetPasswordComponent.prototype.aftercalldate = function () {
        this.startdate = new Date(Number(this.forgetpassword.forgetpassword_startdate));
        this.enddate = new Date(Number(this.forgetpassword.forgetpassword_enddate));
    };
    ForgetPasswordComponent.prototype.onFinalFileUpload = function () {
        for (var i = 0; i < this.uploadedFiles.length; i++) {
            var filename = this.uploadedFiles[i].name;
            this.fileupload.fileName = filename;
            this.fileupload.filePath = '';
            this.fileupload.fileStatus = 'Yes';
            this.fileupload.fileType = 'img';
            this.fileupload.uploadfile_filename = '';
            this.fileuploadarr.push(this.fileupload);
        }
    };
    ForgetPasswordComponent.prototype.onSubmit = function () {
        this.forgetpassword.forgetpassword_startdate = this.mydate1.parse(this.startdate);
        this.forgetpassword.forgetpassword_enddate = this.mydate1.parse(this.enddate);
        this.onFinalFileUpload();
        this.submitted = true;
        this.msgs = [];
        this.msgs.push({ severity: 'info', summary: 'Please wait', detail: 'Form Submitted Successfully.. Please wait..' });
        this.submitted = true;
        this.msgs = [];
        this.msgs.push({ severity: 'info', summary: 'Success', detail: 'Form Update Successfully' });
    };
    ForgetPasswordComponent.prototype.onUpload = function (event) {
        for (var _i = 0, _a = event.files; _i < _a.length; _i++) {
            var file = _a[_i];
            this.uploadedFiles.push(file);
        }
        this.msgs = [];
        this.msgs.push({ severity: 'info', summary: 'File Uploaded', detail: '' });
    };
    ForgetPasswordComponent.prototype.ngOnInit = function () {
        this.clear();
        this.userform = this.fb.group({
            'name': new forms_1.FormControl('', forms_1.Validators.compose([forms_1.Validators.required, validator_directive_1.CustomValidator.isEmailValid])),
            'budget': new forms_1.FormControl('', forms_1.Validators.required),
            'remarks': new forms_1.FormControl('', forms_1.Validators.required),
            'manhours': new forms_1.FormControl('', forms_1.Validators.required),
            'startdatev': new forms_1.FormControl('', forms_1.Validators.required),
            'enddatev': new forms_1.FormControl('', forms_1.Validators.required),
            'timeframe': new forms_1.FormControl('', forms_1.Validators.required),
            'completed': new forms_1.FormControl('', forms_1.Validators.required),
            'commission': new forms_1.FormControl('', forms_1.Validators.required),
            'description': new forms_1.FormControl('', forms_1.Validators.required),
            'daysrequired': new forms_1.FormControl('', forms_1.Validators.required),
        });
    };
    ForgetPasswordComponent.prototype.processdata = function () {
    };
    ForgetPasswordComponent.prototype.populatedrp = function () {
        for (var i = 0; i < this.drpvar.length; i++) {
            this.drpforgetpassword.push({ label: this.drpvar[i].labeld, value: this.drpvar[i].valued });
        }
    };
    ForgetPasswordComponent.prototype.drpchange = function (events1) {
    };
    Object.defineProperty(ForgetPasswordComponent.prototype, "diagnostic", {
        get: function () { return JSON.stringify(this.userform.value); },
        enumerable: true,
        configurable: true
    });
    ForgetPasswordComponent = __decorate([
        core_1.Component({
            moduleId: module.id,
            selector: 'sd-forgetpassword',
            templateUrl: 'forgetpassword.component.html',
            styleUrls: ['forgetpassword.component.css'],
            providers: [first_pipe_1.MyCurrencyPipe, mydateformat_pipe_1.MyDateFormat, emailvalidate_pipe_1.EmailValidate, baseurl_service_1.BaseUrlService]
        }), 
        __metadata('design:paramtypes', [forms_1.FormBuilder, router_1.ActivatedRoute, router_1.Router, index_1.ForgetPasswordService, first_pipe_1.MyCurrencyPipe, mydateformat_pipe_1.MyDateFormat, emailvalidate_pipe_1.EmailValidate, baseurl_service_1.BaseUrlService])
    ], ForgetPasswordComponent);
    return ForgetPasswordComponent;
}());
exports.ForgetPasswordComponent = ForgetPasswordComponent;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9mb3JnZXRwYXNzd29yZC9mb3JnZXRwYXNzd29yZC5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBLHFCQUFpQyxlQUFlLENBQUMsQ0FBQTtBQUNqRCxzQkFBMkQsZ0JBQWdCLENBQUMsQ0FBQTtBQUk1RSx1QkFBdUMsaUJBQWlCLENBQUMsQ0FBQTtBQVN6RCwyQkFBK0IsNEJBQTRCLENBQUMsQ0FBQTtBQUM1RCxzQkFBc0MsZ0NBQWdDLENBQUMsQ0FBQTtBQUl2RSxrQ0FBNkIsbUNBQW1DLENBQUMsQ0FBQTtBQUNqRSxtQ0FBOEIsb0NBQW9DLENBQUMsQ0FBQTtBQUNuRSxvQ0FBZ0MsMENBQTBDLENBQUMsQ0FBQTtBQUMzRSxnQ0FBNkIsbUNBQW1DLENBQUMsQ0FBQTtBQVdqRTtJQW1FRSxpQ0FBb0IsRUFBZSxFQUNmLEtBQXFCLEVBQ3JCLE1BQWMsRUFDZCxZQUFtQyxFQUNuQyxLQUFxQixFQUNyQixPQUFxQixFQUNyQixRQUF1QixFQUN2QixjQUE2QjtRQVA3QixPQUFFLEdBQUYsRUFBRSxDQUFhO1FBQ2YsVUFBSyxHQUFMLEtBQUssQ0FBZ0I7UUFDckIsV0FBTSxHQUFOLE1BQU0sQ0FBUTtRQUNkLGlCQUFZLEdBQVosWUFBWSxDQUF1QjtRQUNuQyxVQUFLLEdBQUwsS0FBSyxDQUFnQjtRQUNyQixZQUFPLEdBQVAsT0FBTyxDQUFjO1FBQ3JCLGFBQVEsR0FBUixRQUFRLENBQWU7UUFDdkIsbUJBQWMsR0FBZCxjQUFjLENBQWU7UUF0RWpELFNBQUksR0FBWSxFQUFFLENBQUM7UUFHbkIsb0JBQWUsR0FBbUIsRUFBRSxDQUFDO1FBTXBDLFdBQU0sR0FBYyxFQUFFLENBQUM7UUFDdkIsc0JBQWlCLEdBQWUsRUFBRSxDQUFDO1FBV3BDLGtCQUFhLEdBQVUsRUFBRSxDQUFDO1FBRTFCLGtCQUFhLEdBQWUsRUFBRSxDQUFDO1FBaUR0QixJQUFJLENBQUMsU0FBUyxHQUFDLGNBQWMsQ0FBQyxVQUFVLEVBQUUs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R0QsMkNBQVMsR0FBVCxVQUFVLE9BQVk7SUFFdEIsQ0FBQztJQUdELHNCQUFJLCtDQUFVO2FBQWQsY0FBbUIsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7OztPQUFBO0lBaFJsRTtRQUFDLGdCQUFTLENBQUM7WUFDVCxRQUFRLEVBQUUsTUFBTSxDQUFDLEVBQUU7WUFDbkIsUUFBUSxFQUFFLG1CQUFtQjtZQUM3QixXQUFXLEVBQUUsK0JBQStCO1lBQzVDLFNBQVMsRUFBRSxDQUFDLDhCQUE4QixDQUFDO1lBQzNDLFNBQVMsRUFBQyxDQUFDLDJCQUFjLEVBQUMsZ0NBQVksRUFBQyxrQ0FBYSxFQUFDLGdDQUFjLENBQUM7U0FDckUsQ0FBQzs7K0JBQUE7SUE0UUQsOEJBQUM7QUFBRCxDQTNRRCxBQTJRRSxJQUFBO0FBM1FXLCtCQUF1QiwwQkEyUWxDLENBQUEiLCJmaWxlIjoiYXBwL2ZvcmdldHBhc3N3b3JkL2ZvcmdldHBhc3N3b3JkLmNvbXBvbmVudC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCxPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHtGb3JtR3JvdXAsRm9ybUNvbnRyb2wsVmFsaWRhdG9ycyxGb3JtQnVpbGRlcn0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xyXG5pbXBvcnQge0Zvcm1zTW9kdWxlLFJlYWN0aXZlRm9ybXNNb2R1bGV9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcclxuaW1wb3J0IHtNZXNzYWdlc01vZHVsZSxNZXNzYWdlLEdyb3dsfSBmcm9tICdwcmltZW5nL3ByaW1lbmcnO1xyXG5pbXBvcnQge1BhbmVsTW9kdWxlfSBmcm9tICdwcmltZW5nL3ByaW1lbmcnO1xyXG5pbXBvcnQgeyBBY3RpdmF0ZWRSb3V0ZSwgUm91dGVyIH0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcclxuaW1wb3J0IHtCdXR0b25Nb2R1bGV9IGZyb20gJ3ByaW1lbmcvcHJpbWVuZyc7XHJcbmltcG9ydCB7Rm9yZ2V0UGFzc3dvcmR9IGZyb20gJy4vZm9yZ2V0cGFzc3dvcmQnO1xyXG5pbXBvcnQge0Ryb3Bkb3duMX0gZnJvbSAnLi9kcm9wZG93bjEnO1xyXG5pbXBvcnQge0ZpbGVVcGxvYWR9IGZyb20gJy4vZmlsZXVwbG9hZCc7XHJcbmltcG9ydCB7RGF0YVRhYmxlTW9kdWxlfSBmcm9tICdwcmltZW5nL3ByaW1lbmcnO1xyXG5pbXBvcnQge0Ryb3Bkb3duTW9kdWxlfSBmcm9tICdwcmltZW5nL3ByaW1lbmcnO1xyXG5cclxuXHJcbmltcG9ydCB7IE15Q3VycmVuY3lQaXBlIH0gZnJvbSAnLi4vc2hhcmVkL3BpcGVzL2ZpcnN0LnBpcGUnO1xyXG5pbXBvcnQgeyBGb3JnZXRQYXNzd29yZFNlcnZpY2UgfSBmcm9tICcuLi9zaGFyZWQvZm9yZ2V0cGFzc3dvcmQvaW5kZXgnO1xyXG5cclxuaW1wb3J0IHtGaWxlVXBsb2FkTW9kdWxlfSBmcm9tICdwcmltZW5nL3ByaW1lbmcnO1xyXG5pbXBvcnQge1NlbGVjdEl0ZW19IGZyb20gJ3ByaW1lbmcvcHJpbWVuZyc7XHJcbmltcG9ydCB7IE15RGF0ZUZvcm1hdCB9IGZyb20gJy4uL3NoYXJlZC9waXBlcy9teWRhdGVmb3JtYXQucGlwZSc7XHJcbmltcG9ydCB7IEVtYWlsVmFsaWRhdGUgfSBmcm9tICcuLi9zaGFyZWQvcGlwZXMvZW1haWx2YWxpZGF0ZS5waXBlJztcclxuaW1wb3J0IHsgQ3VzdG9tVmFsaWRhdG9yIH0gZnJvbSAnLi4vc2hhcmVkL3ZhbGlkYXRvcnMvdmFsaWRhdG9yLmRpcmVjdGl2ZSc7XHJcbmltcG9ydCB7QmFzZVVybFNlcnZpY2V9IGZyb20gJy4uL3NoYXJlZC9iYXNldXJsL2Jhc2V1cmwuc2VydmljZSc7XHJcbi8qKlxyXG4gKiBUaGlzIGNsYXNzIHJlcHJlc2VudHMgdGhlIGxhenkgbG9hZGVkIGZvcmdldHBhc3N3b3JkQ29tcG9uZW50LlxyXG4gKi9cclxuQENvbXBvbmVudCh7XHJcbiAgbW9kdWxlSWQ6IG1vZHVsZS5pZCxcclxuICBzZWxlY3RvcjogJ3NkLWZvcmdldHBhc3N3b3JkJyxcclxuICB0ZW1wbGF0ZVVybDogJ2ZvcmdldHBhc3N3b3JkLmNvbXBvbmVudC5odG1sJyxcclxuICBzdHlsZVVybHM6IFsnZm9yZ2V0cGFzc3dvcmQuY29tcG9uZW50LmNzcyddLFxyXG4gIHByb3ZpZGVyczpbTXlDdXJyZW5jeVBpcGUsTXlEYXRlRm9ybWF0LEVtYWlsVmFsaWRhdGUsQmFzZVVybFNlcnZpY2VdXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBGb3JnZXRQYXNzd29yZENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XHJcbiAgLy9Gb3JtIGdyb3AgXHJcbiAgdXNlcmZvcm06IEZvcm1Hcm91cDtcclxuICAvLyBHcm93bCBtZXNzZWdlXHJcbiAgbXNnczogTWVzc2FnZVtdPVtdO1xyXG5cclxuICAvL0RlY2xhcmU6IERhdGEgaGFuZGxpbmcgZm9yIEdyaWQgZmxvdywgZm9ybSBmbG93XHJcbiAgZm9yZ2V0cGFzc3dvcmRzOiBGb3JnZXRQYXNzd29yZFtdPVtdO1xyXG4gIHN1Ym1pdHRlZDogYm9vbGVhbjtcclxuICBmb3JnZXRwYXNzd29yZDogRm9yZ2V0UGFzc3dvcmQ7XHJcbiAgc2VsZWN0ZWRSb3c6IEZvcmdldFBhc3N3b3JkO1xyXG5cclxuICAgLy8gRm9ybSBkYXRhIHByZWZpbGxlZFxyXG4gICBkcnB2YXI6IERyb3Bkb3duMVtdPVtdO1xyXG4gICBkcnBmb3JnZXRwYXNzd29yZDogU2VsZWN0SXRlbVtdPVtdO1xyXG4gICBzdGFydGRhdGU6IERhdGU7XHJcbiAgIGVuZGRhdGU6IERhdGU7XHJcblxyXG4gICAvL2Jvb2xlYW4gdmFsdWUgZm9yIEFkZCBuZXcgb3IgRWRpdCBNb2RlXHJcbiAgIG5ld2ZvcmdldHBhc3N3b3JkOiBib29sZWFuO1xyXG4gICBcclxuICAvLyAgc2VsZWN0ZWRmb3JnZXRwYXNzd29yZDogc3RyaW5nO1xyXG4gICAgICAgXHJcbiAgLy8qKiogZmlsZXVwbG9hZCBEZWNsYXJlICoqKlxyXG4gIC8vQ2xpZW50IGZvcm1hdCBmb3IgZmlsZSB1cGxvYWRcclxuICB1cGxvYWRlZEZpbGVzOiBhbnlbXSA9IFtdO1xyXG4gIC8vc2VydmVyIGZvcm1hdCBmb3IgZmlsZSB1cGxvYWRcclxuICBmaWxldXBsb2FkYXJyOiBGaWxlVXBsb2FkW109W107XHJcbiAgZmlsZXVwbG9hZDogRmlsZVVwbG9hZDtcclxuXHJcbiAgbXliYXNldXJsOnN0cmluZztcclxuXHJcbiAgLy9QcmVwYXJlIGRhdGEgZm9yIG5ldyBlbnRyeSBvciBpbml0aXplIGRhdGEgZHVyaW5nIGZvcm0gbG9hZCBieSBjbGVhcmluZyBkYXRhIG9yIHByZXNldHRpbmcgZGF0YVxyXG4gIGNsZWFyKCl7XHJcbiAgICAgICAgdGhpcy5uZXdmb3JnZXRwYXNzd29yZD10cnVlO1xyXG4gICAgICAgIHRoaXMuZm9yZ2V0cGFzc3dvcmQ9e1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgIHN0YXR1cyA6J2FjdGl2ZScsXHJcbiAgICAgICAgICBjb21wX2lkIDonJyxcclxuICAgICAgICAgIG1lbWJlcl9pZCA6JycsXHJcbiAgICAgICAgICBmb3JnZXRwYXNzd29yZF9pZDonMScsXHJcbiAgICAgICAgICBmb3JnZXRwYXNzd29yZF9uYW1lOicnLFxyXG4gICAgICAgICAgZm9yZ2V0cGFzc3dvcmRfYnVkZ2V0OicnLFxyXG4gICAgICAgICAgZm9yZ2V0cGFzc3dvcmRfZW5kZGF0ZTonJyxcclxuICAgICAgICAgIGZvcmdldHBhc3N3b3JkX3JlbWFya3M6JycsXHJcbiAgICAgICAgICBmb3JnZXRwYXNzd29yZF9tYW5ob3VyczonJyxcclxuICAgICAgICAgIEZvcmdldFBhc3N3b3JkX3RpbWVmcmFtZTonJyxcclxuICAgICAgICAgIGZvcmdldHBhc3N3b3JkX2NvbXBsZXRlZDonTm8nLFxyXG4gICAgICAgICAgZm9yZ2V0cGFzc3dvcmRfc3RhcnRkYXRlOicnLFxyXG4gICAgICAgICAgZm9yZ2V0cGFzc3dvcmRfY29tbWlzc2lvbjonJyxcclxuICAgICAgICAgIGZvcmdldHBhc3N3b3JkX2Rlc2NyaXB0aW9uOicnLFxyXG4gICAgICAgICAgZm9yZ2V0cGFzc3dvcmRfcmVxdWlyZWRkYXlzdG9jb21wbGV0ZTonJyxcclxuICAgICAgfVxyXG5cclxuICAgICAgXHJcbiAgICAgIFxyXG4gICAgICBcclxuICAgIHRoaXMuZmlsZXVwbG9hZD17XHJcbiAgICAgIGZpbGVOYW1lOiAnJyxcclxuICAgICAgZmlsZVR5cGU6ICcnLFxyXG4gICAgICBmaWxlUGF0aDogJycsXHJcbiAgICAgIGZpbGVTdGF0dXM6ICcnLFxyXG4gICAgICB1cGxvYWRmaWxlX2ZpbGVuYW1lOiAnJ1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gY29uc3RydWN0b3IgaW5pdGlhemUgb2YgYWxsIG5lY2Vzc2FyeSB2YXJpYWJsZSBhbmQgb2JqZWN0c1xyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgZmI6IEZvcm1CdWlsZGVyLFxyXG4gICAgICAgICAgICAgIHByaXZhdGUgcm91dGU6IEFjdGl2YXRlZFJvdXRlLFxyXG4gICAgICAgICAgICAgIHByaXZhdGUgcm91dGVyOiBSb3V0ZXIsXHJcbiAgICAgICAgICAgICAgcHJpdmF0ZSBsb2NhbFNlcnZpY2U6IEZvcmdldFBhc3N3b3JkU2VydmljZSxcclxuICAgICAgICAgICAgICBwcml2YXRlIG15Y3VyOiBNeUN1cnJlbmN5UGlwZSxcclxuICAgICAgICAgICAgICBwcml2YXRlIG15ZGF0ZTE6IE15RGF0ZUZvcm1hdCxcclxuICAgICAgICAgICAgICBwcml2YXRlIGVtYWlsdmFsOiBFbWFpbFZhbGlkYXRlLFxyXG4gICAgICAgICAgICAgIHByaXZhdGUgYmFzZVVybHNlcnZpY2U6QmFzZVVybFNlcnZpY2VcclxuICAgICAgICAgICAgICApe1xyXG4gICAgICAgICAgIHRoaXMubXliYXNldXJsPWJhc2VVcmxzZXJ2aWNlLmdldEJhc2V1cmwoKTsgICAgIFxyXG4gICAgICAgICAgLy8gZHJwb3AgZG93biBjYW4gb25seSBiZSBwb3B1bGF0ZWQgaW4gY29uc3RydWN0b3IgYW5kIG5vdCBpbiBuZ2luaXQoKVxyXG4gICAgICAgICAgLy8gdGhpcy5sb2NhbFNlcnZpY2VcclxuICAgICAgICAgIC8vIC5nZXRzZWxlY3RkcnBmb3JnZXRwYXNzd29yZCgnaGonKVxyXG4gICAgICAgICAgLy8gLnN1YnNjcmliZShcclxuICAgICAgICAgIC8vICAgLyogaGFwcHkgcGF0aCAqLyBwID0+dGhpcy5kcnB2YXI9cCwvL2FsZXJ0KCBKU09OLnN0cmluZ2lmeSggcCkpLFxyXG4gICAgICAgICAgLy8gICAvKiBlcnJvciBwYXRoICovIGUgPT4gY29uc29sZS5sb2coZSksXHJcbiAgICAgICAgICAvLyAgIC8qIG9uQ29tcGxldGUgKi8gKCkgPT4gdGhpcy5wb3B1bGF0ZWRycCgpKTsvL3t0aGlzLm15bWV0aG9kKHRoaXMuZHJwdmFyKTt9KTsvL3RoaXMubXNncy5wdXNoKHtzZXZlcml0eTonaW5mbycsIHN1bW1hcnk6J1N1Y2Nlc3MnLCBkZXRhaWw6J0Zvcm0gVXBkYXRlIFN1Y2Nlc3NmdWxseTogJyArIEpTT04uc3RyaW5naWZ5KCB0aGlzLmRycHZhcikgKyAnIDogJyArIHRoaXMuZHJwdmFyLmxlbmd0aH0pKTtcclxuXHJcbiAgICBcclxuICB9XHJcbiAgb25Sb3dTZWxlY3QoZXZlbnQ6IGFueSl7XHJcbiAgICAgICAgIC8vSW5kaWNhdG9yIGZvciBmb3JtIGlzIGluIEVkaXQgbW9kZVxyXG4gICAgICAgICB0aGlzLm5ld2ZvcmdldHBhc3N3b3JkPWZhbHNlO1xyXG4gICAgICAgICAvL0NvcHkgb2Ygcm93IHNlbGVjdGVkXHJcbiAgICAgICAgLy8gIHRoaXMuZm9yZ2V0cGFzc3dvcmQ9dGhpcy5zZWxlY3RlZFJvdztcclxuICAgICAgICAgbGV0IHRlbXBwcm9qOiBGb3JnZXRQYXNzd29yZDtcclxuICAgICAgICAgdGVtcHByb2ogPSB0aGlzLnNlbGVjdGVkUm93O1xyXG4gICAgICAgICAvL0NhbGxpbmcgV1MgdG8gZ2V0IHRoZSBzZWxlY3RlZCBkYXRhIGZyb20gc2VydmVyIERCIG9mIHRoZSBzZWxlY3RlZCByb3dcclxuICAgICAgLy8gICAgdGhpcy5sb2NhbFNlcnZpY2VcclxuICAgICAgLy8gLmdldHNlbGVjdEFsbGZpbGVGb3JnZXRQYXNzd29yZCh0ZW1wcHJvai5mb3JnZXRwYXNzd29yZF9pZClcclxuICAgICAgLy8gLnN1YnNjcmliZShcclxuICAgICAgLy8gICAgLyogaGFwcHkgcGF0aCAqLyBwID0+IHRoaXMuZmlsZXVwbG9hZGFycj1wLFxyXG4gICAgICAvLyAgICAvKiBlcnJvciBwYXRoICovIGUgPT4gY29uc29sZS5sb2coIGUpLFxyXG4gICAgICAvLyAgICAvKiBvbkNvbXBsZXRlICovICgpID0+IGNvbnNvbGUubG9nKCdkb25lIGdldHNlbGVjdEFsbGZpbGV1cGxvYWRmb3JnZXRwYXNzd29yZDogJyArIHRoaXMuZmlsZXVwbG9hZGFycikpO1xyXG5cclxuICAgICAgICAvLyAgY29uc29sZS5sb2coJ29uUm93U2VsZWN0OiAnICsgSlNPTi5zdHJpbmdpZnkgKHRoaXMuZm9yZ2V0cGFzc3dvcmQpKTtcclxuICAgICAgICAvLyAgY29uc29sZS5sb2coJ29uUm93U2VsZWN0IGZpbGV1cGxvYWRhcnI6ICcgKyBKU09OLnN0cmluZ2lmeSAodGhpcy5maWxldXBsb2FkYXJyKSk7XHJcblxyXG4gICAgICAgICAvL0NhbGxpbmcgV1MgdG8gZ2V0IHRoZSBzZWxlY3RlZCBkYXRhIGZyb20gc2VydmVyIERCIG9mIHRoZSBzZWxlY3RlZCByb3dcclxuICAgICAgLy8gICB0aGlzLmxvY2FsU2VydmljZVxyXG4gICAgICAvLyAuZ2V0ZWRpdCh0ZW1wcHJvai5mb3JnZXRwYXNzd29yZF9pZClcclxuICAgICAgLy8gLnN1YnNjcmliZShcclxuICAgICAgLy8gICAgLyogaGFwcHkgcGF0aCAqLyBwID0+IHRoaXMuZm9yZ2V0cGFzc3dvcmQ9cCxcclxuICAgICAgLy8gICAgLyogZXJyb3IgcGF0aCAqLyBlID0+IGNvbnNvbGUubG9nKCBlKSxcclxuICAgICAgLy8gICAgLyogb25Db21wbGV0ZSAqLyAoKSA9PiB7dGhpcy5hZnRlcmNhbGxkYXRlKCk7fSApOy8vY29uc29sZS5sb2coJ2RvbmUgZ2V0c2VsZWN0RWRpdGZvcmdldHBhc3N3b3JkOiAnICsgdGhpcy5mb3JnZXRwYXNzd29yZCkpO1xyXG5cclxuICAgICAgICAgXHJcbiAgICAgICAgIFxyXG4gIH1cclxuICBhZnRlcmNhbGxkYXRlKCl7XHJcbiAgICAvLyAgYWxlcnQoSlNPTi5zdHJpbmdpZnkoIHRoaXMuZm9yZ2V0cGFzc3dvcmQpKTtcclxuICAgIC8vIGFsZXJ0KHRoaXMuZm9yZ2V0cGFzc3dvcmQuZm9yZ2V0cGFzc3dvcmRfZW5kZGF0ZSk7XHJcbiAgICAvLyAgICAgIGFsZXJ0KG5ldyBEYXRlKE51bWJlcih0aGlzLmZvcmdldHBhc3N3b3JkLmZvcmdldHBhc3N3b3JkX2VuZGRhdGUpICkpO1xyXG4gICAgLy8gICAgICBhbGVydChuZXcgRGF0ZShOdW1iZXIodGhpcy5mb3JnZXRwYXNzd29yZC5mb3JnZXRwYXNzd29yZF9zdGFydGRhdGUpICkpO1xyXG4gICAgdGhpcy5zdGFydGRhdGUgID0gbmV3IERhdGUoTnVtYmVyKHRoaXMuZm9yZ2V0cGFzc3dvcmQuZm9yZ2V0cGFzc3dvcmRfc3RhcnRkYXRlICkpO1xyXG4gICAgdGhpcy5lbmRkYXRlICA9IG5ldyBEYXRlKE51bWJlcih0aGlzLmZvcmdldHBhc3N3b3JkLmZvcmdldHBhc3N3b3JkX2VuZGRhdGUgKSk7XHJcbiAgfVxyXG5cclxuICAvL1ByZXBhcmUgZm9yIEpTT04gZm9yIGZpbGUgdG8gYmUgdXBsb2FkZWQgdG8gc2VydmVyIGp1c3QgYWZ0ZXIgZm9ybSBzdWJtaXNzaW9uXHJcbiAgb25GaW5hbEZpbGVVcGxvYWQoKXsgICBcclxuICBcclxuICAgIC8vIGFsZXJ0KHRoaXMudXBsb2FkZWRGaWxlcy5sZW5ndGgpO1xyXG4gICAgZm9yKGxldCBpPTA7aTx0aGlzLnVwbG9hZGVkRmlsZXMubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICBsZXQgZmlsZW5hbWU9dGhpcy51cGxvYWRlZEZpbGVzW2ldLm5hbWU7XHJcbiAgICAgICAgIFxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICB0aGlzLmZpbGV1cGxvYWQuZmlsZU5hbWU9ZmlsZW5hbWU7XHJcbiAgICAgICAgICB0aGlzLmZpbGV1cGxvYWQuZmlsZVBhdGg9Jyc7XHJcbiAgICAgICAgICB0aGlzLmZpbGV1cGxvYWQuZmlsZVN0YXR1cz0nWWVzJztcclxuICAgICAgICAgIHRoaXMuZmlsZXVwbG9hZC5maWxlVHlwZT0naW1nJztcclxuICAgICAgICAgIHRoaXMuZmlsZXVwbG9hZC51cGxvYWRmaWxlX2ZpbGVuYW1lPScnO1xyXG4gICAgICAgICAvLyBhbGVydChcImluc2lkZWZpbGV1cGxvYWQ6IFwiICsgSlNPTi5zdHJpbmdpZnkodGhpcy5maWxldXBsb2FkKSk7XHJcbiAgICAgICAgICB0aGlzLmZpbGV1cGxvYWRhcnIucHVzaCh0aGlzLmZpbGV1cGxvYWQpO1xyXG4gICAgICAgICBcclxuICAgICAgICB9XHJcbiAgIFxyXG4gIH0gXHJcblxyXG4gIC8vIERhdGUgY2hhbmdlIGV2ZW50IHRvIGZvcm1hdCBuZ21vZGVsIHRvIG91ciBmb3JtYXQgZGF0ZSBhbmQgY2FsbGluZyBwaXBlIFxyXG4gIC8vIHN0YXJ0ZGF0ZWNoYW5nZSgpe1xyXG4gIC8vICAgdGhpcy5mb3JnZXRwYXNzd29yZC5wcm9qbWlsZV9zdGFydGRhdGU9dGhpcy5teWRhdGUxLnBhcnNlKHRoaXMuZm9yZ2V0cGFzc3dvcmQucHJvam1pbGVfc3RhcnRkYXRlKVxyXG4gIC8vIH1cclxuICAvLyBlbmRkYXRlY2hhbmdlKCl7XHJcbiAgLy8gICB0aGlzLmZvcmdldHBhc3N3b3JkLnByb2ptaWxlX2VuZGRhdGU9dGhpcy5teWRhdGUxLnBhcnNlKHRoaXMuZm9yZ2V0cGFzc3dvcmQucHJvam1pbGVfZW5kZGF0ZSlcclxuICAvLyB9XHJcblxyXG5cclxuICBvblN1Ym1pdCgpe1xyXG4gICAgICAvLyAgIGFsZXJ0KEpTT04uc3RyaW5naWZ5KHRoaXMuc2VsZWN0ZWRSb3cpKTtcclxuICAgICAgICAvL2FsZXJ0KHRoaXMuZm9yZ2V0cGFzc3dvcmQuZm9yZ2V0cGFzc3dvcmRfc3RhcnRkYXRlKTtcclxuICAgICAgICB0aGlzLmZvcmdldHBhc3N3b3JkLmZvcmdldHBhc3N3b3JkX3N0YXJ0ZGF0ZT10aGlzLm15ZGF0ZTEucGFyc2UodGhpcy5zdGFydGRhdGUpXHJcbiAgXHJcbiAgICAgICAgdGhpcy5mb3JnZXRwYXNzd29yZC5mb3JnZXRwYXNzd29yZF9lbmRkYXRlPXRoaXMubXlkYXRlMS5wYXJzZSh0aGlzLmVuZGRhdGUpXHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5vbkZpbmFsRmlsZVVwbG9hZCgpO1xyXG4gICAgICAgIHRoaXMuc3VibWl0dGVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLm1zZ3MgPSBbXTtcclxuICAgICAgICB0aGlzLm1zZ3MucHVzaCh7c2V2ZXJpdHk6J2luZm8nLCBzdW1tYXJ5OidQbGVhc2Ugd2FpdCcsIGRldGFpbDonRm9ybSBTdWJtaXR0ZWQgU3VjY2Vzc2Z1bGx5Li4gUGxlYXNlIHdhaXQuLid9KVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vICBjb25zb2xlLmxvZygnb25TdWJtaXQgb25Sb3dTZWxlY3Q6ICcgKyBKU09OLnN0cmluZ2lmeSAodGhpcy5mb3JnZXRwYXNzd29yZCkpO1xyXG4gICAgICAgIC8vICBjb25zb2xlLmxvZygnb25TdWJtaXQgb25Sb3dTZWxlY3QgZmlsZXVwbG9hZGFycjogJyArIEpTT04uc3RyaW5naWZ5ICh0aGlzLmZpbGV1cGxvYWRhcnIpKTtcclxuXHJcbiAgICAgICAgLy8gaWYodGhpcy5uZXdmb3JnZXRwYXNzd29yZCl7Ly9BZGQgbmV3IGVudHJ5IHNhdmluZ1xyXG4gICAgICAgIC8vICAgIHRoaXMubG9jYWxTZXJ2aWNlXHJcbiAgICAgICAgLy8gICAuaW5zZXJ0KHRoaXMuZm9yZ2V0cGFzc3dvcmQsdGhpcy5maWxldXBsb2FkYXJyKVxyXG4gICAgICAgIC8vICAgLnN1YnNjcmliZShcclxuICAgICAgICAvLyAgICAgLyogaGFwcHkgcGF0aCAqLyBwID0+IHRoaXMuZm9yZ2V0cGFzc3dvcmRzID0gcCxcclxuICAgICAgICAvLyAgICAgLyogZXJyb3IgcGF0aCAqLyBlID0+IGNvbnNvbGUubG9nKGUpLFxyXG4gICAgICAgIC8vICAgICAvKiBvbkNvbXBsZXRlICovICgpID0+IHRoaXMubXNncy5wdXNoKHtzZXZlcml0eTonaW5mbycsIHN1bW1hcnk6J1N1Y2Nlc3MnLCBkZXRhaWw6J0Zvcm0gVXBkYXRlIFN1Y2Nlc3NmdWxseSd9KSk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIC8vIGVsc2V7IC8vIHVwZGF0ZSBlbnRyeSBzYXZpbmdcclxuICAgICAgICAvLyAgIGNvbnNvbGUubG9nKCdmb3JnZXRwYXNzd29yZDogJyArIEpTT04uc3RyaW5naWZ5KCB0aGlzLmZvcmdldHBhc3N3b3JkKSArICcgLCBmOicgKyAgSlNPTi5zdHJpbmdpZnkoIHRoaXMuZmlsZXVwbG9hZGFycikpO1xyXG4gICAgICAgIC8vICAgdGhpcy5sb2NhbFNlcnZpY2VcclxuICAgICAgICAvLyAgIC51cGRhdGUodGhpcy5mb3JnZXRwYXNzd29yZCx0aGlzLmZpbGV1cGxvYWRhcnIpXHJcbiAgICAgICAgLy8gICAuc3Vic2NyaWJlKFxyXG4gICAgICAgIC8vICAgICAvKiBoYXBweSBwYXRoICovIHAgPT4gdGhpcy5mb3JnZXRwYXNzd29yZHMgPSBwLFxyXG4gICAgICAgIC8vICAgICAvKiBlcnJvciBwYXRoICovIGUgPT4gY29uc29sZS5sb2coZSksXHJcbiAgICAgICAgLy8gICAgIC8qIG9uQ29tcGxldGUgKi8gKCkgPT4gdGhpcy5tc2dzLnB1c2goe3NldmVyaXR5OidpbmZvJywgc3VtbWFyeTonU3VjY2VzcycsIGRldGFpbDonRm9ybSBVcGRhdGUgU3VjY2Vzc2Z1bGx5J30pKTtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgICB0aGlzLnN1Ym1pdHRlZCA9IHRydWU7XHJcbiAgICAgICAgICB0aGlzLm1zZ3MgPSBbXTtcclxuICAgICAgICAgIHRoaXMubXNncy5wdXNoKHtzZXZlcml0eTonaW5mbycsIHN1bW1hcnk6J1N1Y2Nlc3MnLCBkZXRhaWw6J0Zvcm0gVXBkYXRlIFN1Y2Nlc3NmdWxseSd9KTtcclxuICB9XHJcblxyXG4gIC8vdXBsb2FkIGZpbGVzIHRvIHRoZSBzZXJ2ZXJcclxub25VcGxvYWQoZXZlbnQ6IGFueSl7XHJcbiAgLy9hbGVydChldmVudC5maWxlcyk7XHJcbiAgZm9yKGxldCBmaWxlIG9mIGV2ZW50LmZpbGVzKSB7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIHRoaXMudXBsb2FkZWRGaWxlcy5wdXNoKGZpbGUpO1xyXG4gIH1cclxuICBcclxuICAvL2NvbnNvbGUubG9nKGV2ZW50Lnhoci5yZXNwb25zZSk7XHJcbiAgdGhpcy5tc2dzID0gW107XHJcbiAgdGhpcy5tc2dzLnB1c2goe3NldmVyaXR5OiAnaW5mbycsIHN1bW1hcnk6ICdGaWxlIFVwbG9hZGVkJywgZGV0YWlsOiAnJ30pO1xyXG59XHJcblxyXG4gXHJcblxyXG4vL0Zvcm0gaW5pdFxyXG5uZ09uSW5pdCgpIHsgXHJcbiAgICAgIC8vQ2xlYXIgZXZlbnQgYW5kIGluaXRhbGl6ZSBvYmplY3RzXHJcbiAgICAgIHRoaXMuY2xlYXIoKTtcclxuICAgICAgXHJcbiAgICAgIC8vIGFsZXJ0KCB0aGlzLnN0YXJ0ZGF0ZS5nZXREYXkgKyAnLycgK3RoaXMuc3RhcnRkYXRlLmdldE1vbnRoICsgJy8nICt0aGlzLnN0YXJ0ZGF0ZS5nZXRGdWxsWWVhcik7IFxyXG4gICAgICAvLyBhbGVydCggJ251bWJlcjogJyArIHRoaXMubXljdXIucGFyc2UoXCIxMFwiKSk7XHJcbiAgICAgIC8vIGxldCBibDogYm9vbGVhbjtcclxuICAgICAgLy8gYmwgPSAgdGhpcy5lbWFpbHZhbC5wYXJzZSgnYXR1bGt1bHZlZ21haWwuY29tJywnJyk7XHJcbiAgICAgIC8vIGFsZXJ0KGJsICk7XHJcblxyXG4gICAgICAvL0NyZWF0ZSB1c2VyZm9ybSBhbmQgYXBwbHkgVmFsaWRhdGlvblxyXG4gICAgICAvLyBhbGVydCh0aGlzLm15ZGF0ZTEucGFyc2UoICcyMDE2LTEyLTEzVDE4OjMwOjAwLjAwMFonKSk7XHJcbiAgICAgIHRoaXMudXNlcmZvcm0gPSB0aGlzLmZiLmdyb3VwKHtcclxuICAgICAgICAgICAgJ25hbWUnOiBuZXcgRm9ybUNvbnRyb2woJycsIFZhbGlkYXRvcnMuY29tcG9zZShbVmFsaWRhdG9ycy5yZXF1aXJlZCxDdXN0b21WYWxpZGF0b3IuaXNFbWFpbFZhbGlkXSkpLFxyXG4gICAgICAgICAgICAgJ2J1ZGdldCc6IG5ldyBGb3JtQ29udHJvbCgnJywgVmFsaWRhdG9ycy5yZXF1aXJlZCksXHJcbiAgICAgICAgICAgICAncmVtYXJrcyc6IG5ldyBGb3JtQ29udHJvbCgnJywgVmFsaWRhdG9ycy5yZXF1aXJlZCksXHJcbiAgICAgICAgICAgICAnbWFuaG91cnMnOiBuZXcgRm9ybUNvbnRyb2woJycsIFZhbGlkYXRvcnMucmVxdWlyZWQpLFxyXG4gICAgICAgICAgICAgJ3N0YXJ0ZGF0ZXYnOiBuZXcgRm9ybUNvbnRyb2woJycsIFZhbGlkYXRvcnMucmVxdWlyZWQpLFxyXG4gICAgICAgICAgICAgJ2VuZGRhdGV2JzogbmV3IEZvcm1Db250cm9sKCcnLCBWYWxpZGF0b3JzLnJlcXVpcmVkKSxcclxuICAgICAgICAgICAgICd0aW1lZnJhbWUnOiBuZXcgRm9ybUNvbnRyb2woJycsIFZhbGlkYXRvcnMucmVxdWlyZWQpLFxyXG4gICAgICAgICAgICAgJ2NvbXBsZXRlZCc6IG5ldyBGb3JtQ29udHJvbCgnJywgVmFsaWRhdG9ycy5yZXF1aXJlZCksXHJcbiAgICAgICAgICAgICAnY29tbWlzc2lvbic6IG5ldyBGb3JtQ29udHJvbCgnJywgVmFsaWRhdG9ycy5yZXF1aXJlZCksXHJcbiAgICAgICAgICAgICAnZGVzY3JpcHRpb24nOiBuZXcgRm9ybUNvbnRyb2woJycsIFZhbGlkYXRvcnMucmVxdWlyZWQpLFxyXG4gICAgICAgICAgICAgJ2RheXNyZXF1aXJlZCc6IG5ldyBGb3JtQ29udHJvbCgnJywgVmFsaWRhdG9ycy5yZXF1aXJlZCksXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vcHJlbG9hZCBkYXRhIEdyaWQgcmVxdWlyZWQgXHJcbiAgICAgIC8vICAgdGhpcy5sb2NhbFNlcnZpY2VcclxuICAgICAgLy8gLmdldGFsbCgpXHJcbiAgICAgIC8vIC5zdWJzY3JpYmUoXHJcbiAgICAgIC8vICAgIC8qIGhhcHB5IHBhdGggKi8gcCA9PiB0aGlzLmZvcmdldHBhc3N3b3Jkcz1wLFxyXG4gICAgICAvLyAgICAvKiBlcnJvciBwYXRoICovIGUgPT4gY29uc29sZS5sb2coIGUpLFxyXG4gICAgICAvLyAgICAvKiBvbkNvbXBsZXRlICovICgpID0+IHRoaXMucHJvY2Vzc2RhdGEoKSk7XHJcblxyXG4gICAgICAgICBcclxuICAgICAgICBcclxuICB9XHJcbiAgcHJvY2Vzc2RhdGEoKXtcclxuICAgIFxyXG5cclxuICB9XHJcbiAgcG9wdWxhdGVkcnAoKXsgLy9wb3B1bGF0ZSBkcm9wZG93bnMgb24gcGFnZSBsb2FkLiBieSB1c2luZyBwdXNoIGFuZCBTZWxlY3RJdGVtXHJcbiAgICAvL2NvbnNvbGUubG9nKHRoaXMuZHJwdmFyLmxlbmd0aCk7XHJcbiAgICAgICAgZm9yKHZhciBpID0wO2k8dGhpcy5kcnB2YXIubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICAvL2FsZXJ0KHRoaXMuZHJwdmFyW2ldLmxhYmVsZCArICcgOiAnICArIHRoaXMuZHJwdmFyW2ldLnZhbHVlZCk7XHJcbiAgICAgICAgICAgdGhpcy5kcnBmb3JnZXRwYXNzd29yZC5wdXNoKHtsYWJlbDp0aGlzLmRycHZhcltpXS5sYWJlbGQgLCB2YWx1ZTp0aGlzLmRycHZhcltpXS52YWx1ZWR9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gYWxlcnQoSlNPTi5zdHJpbmdpZnkodGhpcy5kcnBmb3JnZXRwYXNzd29yZCkpO1xyXG5cclxuICB9XHJcblxyXG4gIC8vRHJvcGRvd24gY2hhbmdlIGV2ZW50IGNhcHR1cmVcclxuICBkcnBjaGFuZ2UoZXZlbnRzMTogYW55KXtcclxuICAgIC8vIGFsZXJ0KGV2ZW50czEudmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgLy9KdXN0IGEgbWV0aG9kIHRvIGNhbGwgdXNlciBmb3JtIGRhdGEgb24gZm9ybSBzdWJtaXRcclxuICBnZXQgZGlhZ25vc3RpYygpIHsgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMudXNlcmZvcm0udmFsdWUpOyB9XHJcblxyXG4gfVxyXG4iXX0=

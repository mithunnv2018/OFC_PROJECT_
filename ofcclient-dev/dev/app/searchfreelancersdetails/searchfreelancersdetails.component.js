"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var core_1 = require('@angular/core');
var forms_1 = require('@angular/forms');
var router_1 = require('@angular/router');
var first_pipe_1 = require('../shared/pipes/first.pipe');
var index_1 = require('../shared/searchfreelancersdetails/index');
var mydateformat_pipe_1 = require('../shared/pipes/mydateformat.pipe');
var emailvalidate_pipe_1 = require('../shared/pipes/emailvalidate.pipe');
var baseurl_service_1 = require('../shared/baseurl/baseurl.service');
var SearchFreeLancersDetailsComponent = (function () {
    function SearchFreeLancersDetailsComponent(fb, route, router, localService, mycur, mydate1, emailval, baseUrlservice) {
        this.fb = fb;
        this.route = route;
        this.router = router;
        this.localService = localService;
        this.mycur = mycur;
        this.mydate1 = mydate1;
        this.emailval = emailval;
        this.baseUrlservice = baseUrlservice;
        this.msgs = [];
        this.drpvar = [];
        this.drpsearchfreelancersdetails = [];
        this.uploadedFiles = [];
        this.fileuploadarr = [];
        this.member_id = '';
        this.listofcertificates = [];
        this.listofemployments = [];
        this.listofexperiences = [];
        this.mybaseurl = baseUrlservice.getBaseurl();
    }
    SearchFreeLancersDetailsComponent.prototype.clear = function () {
        this.newsearchfreelancersdetails = true;
        this.freelancermember = {
            "ofcmembers_id": "",
            "ofcmembers_fname": "",
            "ofcmembers_mname": "",
            "ofcmembers_lname": "",
            "ofcmembers_name": "",
            "ofcmember_type": "",
            "city_id": "",
            "ofcmembers_emailid": "",
            "ofcmembers_password": "",
            "ofcmembers_address1": "",
            "ofcmembers_address2": "",
            "ofcmembers_pincode": "",
            "ofcmembers_contactnos": "",
            "ofcmembers_availability": "",
            "ofcmembers_displayname": "",
            "ofcmembers_description": "",
            "ofcmembers_selfrating": "",
            "ofcmembers_experiencelevel": "",
            "ofcmembers_gender": "",
            "ofcmembers_dob": "",
            "ofcmembers_nosofteammembers": "",
            "status": "",
            "country_id": "",
            "country_name": "",
            "state_id": "",
            "state_name": "",
            "city_name": "",
            "skillsarr": []
        };
        this.fileupload = {
            fileName: '',
            fileType: '',
            filePath: '',
            fileStatus: '',
            uploadfile_filename: ''
        };
    };
    SearchFreeLancersDetailsComponent.prototype.onRowSelect = function (event) {
        this.newsearchfreelancersdetails = false;
    };
    SearchFreeLancersDetailsComponent.prototype.aftercalldate = function () {
    };
    SearchFreeLancersDetailsComponent.prototype.onFinalFileUpload = function () {
        for (var i = 0; i < this.uploadedFiles.length; i++) {
            var filename = this.uploadedFiles[i].name;
            this.fileupload.fileName = filename;
            this.fileupload.filePath = '';
            this.fileupload.fileStatus = 'Yes';
            this.fileupload.fileType = 'img';
            this.fileupload.uploadfile_filename = '';
            this.fileuploadarr.push(this.fileupload);
        }
    };
    SearchFreeLancersDetailsComponent.prototype.onSubmit = function () {
        this.onFinalFileUpload();
        this.submitted = true;
        this.msgs = [];
        this.msgs.push({ severity: 'info', summary: 'Please wait', detail: 'Form Submitted Successfully.. Please wait..' });
        this.submitted = true;
        this.msgs = [];
        this.msgs.push({ severity: 'info', summary: 'Success', detail: 'Form Update Successfully' });
    };
    SearchFreeLancersDetailsComponent.prototype.onUpload = function (event) {
        for (var _i = 0, _a = event.files; _i < _a.length; _i++) {
            var file = _a[_i];
            this.uploadedFiles.push(file);
        }
        this.msgs = [];
        this.msgs.push({ severity: 'info', summary: 'File Uploaded', detail: '' });
    };
    SearchFreeLancersDetailsComponent.prototype.onBeforeUpload = function (event) {
        event.xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded;multipart/form-data;');
        console.log("mith here:");
    };
    SearchFreeLancersDetailsComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.clear();
        var data = sessionStorage.getItem('memberdetails');
        console.log('onsessionStorage : ' + JSON.parse(data));
        var ofcmemsession = JSON.parse(data);
        var ofcmemsession_id = ofcmemsession.ofcmemsession_id;
        console.log('ofcmemsession_id : ' + ofcmemsession_id);
        this.route.params.forEach(function (params) {
            _this.member_id = params["freelancerid"];
        });
        this.localService
            .getedit(ofcmemsession_id, this.member_id)
            .subscribe(function (p) { return _this.freelancermember = p[0]; }, function (e) { return console.log(e); }, function () { return _this.processdata(); });
        this.localService
            .getCertificateList(this.member_id)
            .subscribe(function (p) { return _this.listofcertificates = p; }, function (e) { return console.log(e); }, function () { return _this.processdata(); });
        this.localService
            .getEmploymentList(this.member_id)
            .subscribe(function (p) { return _this.listofemployments = p; }, function (e) { return console.log(e); }, function () { return _this.processdata(); });
        this.localService
            .getExperienceList(this.member_id)
            .subscribe(function (p) { return _this.listofexperiences = p; }, function (e) { return console.log(e); }, function () { return _this.processdata(); });
    };
    SearchFreeLancersDetailsComponent.prototype.processdata = function () {
    };
    SearchFreeLancersDetailsComponent.prototype.getSkillList = function (skillList) {
        var a = "";
        for (var i = 0; i < skillList.length; i++) {
            var c = skillList[i].skill_name;
            var b = '<div class="skills">' + c + '</div>';
            a += b;
        }
        return a;
    };
    SearchFreeLancersDetailsComponent.prototype.populatedrp = function () {
        for (var i = 0; i < this.drpvar.length; i++) {
            this.drpsearchfreelancersdetails.push({ label: this.drpvar[i].labeld, value: this.drpvar[i].valued });
        }
    };
    SearchFreeLancersDetailsComponent.prototype.drpchange = function (events1) {
    };
    Object.defineProperty(SearchFreeLancersDetailsComponent.prototype, "diagnostic", {
        get: function () { return JSON.stringify(this.userform.value); },
        enumerable: true,
        configurable: true
    });
    SearchFreeLancersDetailsComponent = __decorate([
        core_1.Component({
            moduleId: module.id,
            selector: 'sd-searchfreelancersdetails',
            templateUrl: 'searchfreelancersdetails.component.html',
            styleUrls: ['searchfreelancersdetails.component.css'],
            providers: [first_pipe_1.MyCurrencyPipe, mydateformat_pipe_1.MyDateFormat, emailvalidate_pipe_1.EmailValidate, baseurl_service_1.BaseUrlService]
        }), 
        __metadata('design:paramtypes', [forms_1.FormBuilder, router_1.ActivatedRoute, router_1.Router, index_1.SearchFreeLancersDetailsService, first_pipe_1.MyCurrencyPipe, mydateformat_pipe_1.MyDateFormat, emailvalidate_pipe_1.EmailValidate, baseurl_service_1.BaseUrlService])
    ], SearchFreeLancersDetailsComponent);
    return SearchFreeLancersDetailsComponent;
}());
exports.SearchFreeLancersDetailsComponent = SearchFreeLancersDetailsComponent;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9zZWFyY2hmcmVlbGFuY2Vyc2RldGFpbHMvc2VhcmNoZnJlZWxhbmNlcnNkZXRhaWxzLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEscUJBQWlDLGVBQWUsQ0FBQyxDQUFBO0FBQ2pELHNCQUEyRCxnQkFBZ0IsQ0FBQyxDQUFBO0FBSTVFLHVCQUE4QyxpQkFBaUIsQ0FBQyxDQUFBO0FBU2hFLDJCQUErQiw0QkFBNEIsQ0FBQyxDQUFBO0FBQzVELHNCQUFnRCwwQ0FBMEMsQ0FBQyxDQUFBO0FBSTNGLGtDQUE2QixtQ0FBbUMsQ0FBQyxDQUFBO0FBQ2pFLG1DQUE4QixvQ0FBb0MsQ0FBQyxDQUFBO0FBRW5FLGdDQUE2QixtQ0FBbUMsQ0FBQyxDQUFBO0FBaUJqRTtJQXlGRSwyQ0FBb0IsRUFBZSxFQUNmLEtBQXFCLEVBQ3JCLE1BQWMsRUFDZCxZQUE2QyxFQUM3QyxLQUFxQixFQUNyQixPQUFxQixFQUNyQixRQUF1QixFQUN2QixjQUE2QjtRQVA3QixPQUFFLEdBQUYsRUFBRSxDQUFhO1FBQ2YsVUFBSyxHQUFMLEtBQUssQ0FBZ0I7UUFDckIsV0FBTSxHQUFOLE1BQU0sQ0FBUTtRQUNkLGlCQUFZLEdBQVosWUFBWSxDQUFpQztRQUM3QyxVQUFLLEdBQUwsS0FBSyxDQUFnQjtRQUNyQixZQUFPLEdBQVAsT0FBTyxDQUFjO1FBQ3JCLGFBQVEsR0FBUixRQUFRLENBQWU7UUFDdkIsbUJBQWMsR0FBZCxjQUFjLENBQWU7UUE1RmpELFNBQUksR0FBWSxFQUFFLENBQUM7UUFTbEIsV0FBTSxHQUFjLEVBQUUsQ0FBQztRQUN2QixnQ0FBMkIsR0FBZSxFQUFFLENBQUM7UUFXOUMsa0JBQWEsR0FBVSxFQUFFLENBQUM7UUFFMUIsa0JBQWEsR0FBZSxFQUFFLENBQUM7UUFNL0IsY0FBUyxHQUFRLEVBQUUsQ0FBQztRQUVwQix1QkFBa0IsR0FBZSxFQUFFLENBQUM7UUFDcEMsc0JBQWlCLEdBQWMsRUFBRSxDQUFDO1FBQ2xDLHNCQUFpQixHQUFjLEVBQUUsQ0FBQztRQTZEekIsSUFBSSxDQUFDLFNBQVMsR0FBQyxjQUFjLENBQUMsVUFBVSxFQUFFLENBQUM7SUFVcEQsQ0FBQztJQW5FRCxpREFBSyxHQUFMO1FBQ00sSUFBSSxDQUFDLDJCQUEyQixHQUFDLElBQUksQ0FBQztRQUV0QyxJQUFJLENBQUMsZ0JBQWdCLEdBQUM7WUFDcEIsZUFBZSxFQUFDLEVBQUU7WUFDbEIsa0JBQWtCLEVBQUMsRUFBRTtZQUNyQixrQkFBa0IsRUFBQyxFQUFFO1lBQ3JCLGtCQUFrQixFQUFDLEVBQUU7WUFDckIsaUJBQWlCLEVBQUMsRUFBRTtZQUNwQixnQkFBZ0IsRUFBQyxFQUFFO1lBQ25CLFNBQVMsRUFBQyxFQUFFO1lBQ1osb0JBQW9CLEVBQUMsRUFBRTtZQUN2QixxQkFBcUIsRUFBQyxFQUFFO1lBQ3hCLHFCQUFxQixFQUFDLEVBQUU7WUFDeEIscUJBQXFCLEVBQUMsRUFBRTtZQUN4QixvQkFBb0IsRUFBQyxFQUFFO1lBQ3ZCLHVCQUF1QixFQUFDLEVBQUU7WUFDMUIseUJBQXlCLEVBQUMsRUFBRTtZQUM1Qix3QkFBd0IsRUFBQyxFQUFFO1lBQzNCLHdCQUF3QixFQUFDLEVBQUU7WUFDM0IsdUJBQXVCLEVBQUMsRUFBRTtZQUMxQiw0QkFBNEIsRUFBQyxFQUFFO1lBQy9CLG1CQUFtQixFQUFDLEVBQUU7WUFDdEIsZ0JBQWdCLEVBQUMsRUFBRTtZQUNuQiw2QkFBNkIsRUFBQyxFQUFFO1lBQ2hDLFFBQVEsRUFBQyxFQUFFO1lBQ1gsWUFBWSxFQUFDLEVBQUU7WUFDZixjQUFjLEVBQUMsRUFBRTtZQUNqQixVQUFVLEVBQUMsRUFBRTtZQUNiLFlBQVksRUFBQyxFQUFFO1lBQ2YsV0FBVyxFQUFDLEVBQUU7WUFDZCxXQUFXLEVBQUMsRUFBRTtTQUNmLENBQUM7UUFNTixJQUFJLENBQUMsVUFBVSxHQUFDO1lBQ2QsUUFBUSxFQUFFLEVBQUU7WUFDWixRQUFRLEVBQUUsRUFBRTtZQUNaLFFBQVEsRUFBRSxFQUFFO1lBQ1osVUFBVSxFQUFFLEVBQUU7WUFDZCxtQkFBbUIsRUFBRSxFQUFFO1NBQ3hCLENBQUE7SUFDSCxDQUFDO0lBdUJELHVEQUFXLEdBQVgsVUFBWSxLQUFVO1FBRWYsSUFBSSxDQUFDLDJCQUEyQixHQUFDLEtBQUssQ0FBQztJQTRCOUMsQ0FBQztJQUNELHlEQUFhLEdBQWI7SUFVRixDQUFDO0lBR0MsNkRBQWlCLEdBQWpCO1FBR0UsR0FBRyxDQUFBLENBQUMsSUFBSSxDQUFDLEdBQUMsQ0FBQyxFQUFDLENBQUMsR0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLE1BQU0sRUFBQyxDQUFDLEVBQUUsRUFBQyxDQUFDO1lBQ3ZDLElBQUksUUFBUSxHQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO1lBR3hDLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxHQUFDLFFBQVEsQ0FBQztZQUNsQyxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsR0FBQyxFQUFFLENBQUM7WUFDNUIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxVQUFVLEdBQUMsS0FBSyxDQUFDO1lBQ2pDLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxHQUFDLEtBQUssQ0FBQztZQUMvQixJQUFJLENBQUMsVUFBVSxDQUFDLG1CQUFtQixHQUFDLEVBQUUsQ0FBQztZQUV2QyxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7UUFFM0MsQ0FBQztJQUVQLENBQUM7SUFXRCxvREFBUSxHQUFSO1FBT00sSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUM7UUFDekIsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUM7UUFDdEIsSUFBSSxDQUFDLElBQUksR0FBRyxFQUFFLENBQUM7UUFFZixJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUUsT0FBTyxFQUFDLGFBQWEsRUFBRSxNQUFNLEVBQUMsNkNBQTZDLEVBQUMsQ0FBQyxDQUFBO1FBdUI1RyxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQztRQUN0QixJQUFJLENBQUMsSUFBSSxHQUFHLEVBQUUsQ0FBQztRQUNmLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBRSxPQUFPLEVBQUMsU0FBUyxFQUFFLE1BQU0sRUFBQywwQkFBMEIsRUFBQyxDQUFDLENBQUM7SUFDaEcsQ0FBQztJQUdILG9EQUFRLEdBQVIsVUFBUyxLQUFVO1FBRWpCLEdBQUcsQ0FBQSxDQUFhLFVBQVcsRUFBWCxLQUFBLEtBQUssQ0FBQyxLQUFLLEVBQVgsY0FBVyxFQUFYLElBQVcsQ0FBQztZQUF4QixJQUFJLElBQUksU0FBQTtZQUVKLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQ3JDO1FBR0QsSUFBSSxDQUFDLElBQUksR0FBRyxFQUFFLENBQUM7UUFDZixJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFDLFFBQVEsRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLEVBQUUsRUFBRSxFQUFDLENBQUMsQ0FBQztJQUMzRSxDQUFDO0lBR0QsMERBQWMsR0FBZCxVQUFlLEtBQVU7UUFDdkIsS0FBSyxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQyxjQUFjLEVBQUUsd0RBQXdELENBQUMsQ0FBQztRQUNyRyxPQUFPLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxDQUFDO0lBQzVCLENBQUM7SUFHRCxvREFBUSxHQUFSO1FBQUEsaUJBaUZHO1FBL0VHLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUNQLElBQUksSUFBSSxHQUFHLGNBQWMsQ0FBQyxPQUFPLENBQUMsZUFBZSxDQUFDLENBQUM7UUFFekQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxxQkFBcUIsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDdEQsSUFBSSxhQUFhLEdBQWtCLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDcEQsSUFBSSxnQkFBZ0IsR0FBRyxhQUFhLENBQUMsZ0JBQWdCLENBQUM7UUFDdEQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxxQkFBcUIsR0FBRyxnQkFBZ0IsQ0FBQyxDQUFDO1FBSXRELElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxVQUFDLE1BQWM7WUFDekMsS0FBSSxDQUFDLFNBQVMsR0FBRyxNQUFNLENBQUMsY0FBYyxDQUFDLENBQUM7UUFFeEMsQ0FBQyxDQUFDLENBQUM7UUFHRixJQUFJLENBQUMsWUFBWTthQUNqQixPQUFPLENBQUMsZ0JBQWdCLEVBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQzthQUN4QyxTQUFTLENBQ1UsVUFBQSxDQUFDLElBQUksT0FBQSxLQUFJLENBQUMsZ0JBQWdCLEdBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUExQixDQUEwQixFQUMvQixVQUFBLENBQUMsSUFBSSxPQUFBLE9BQU8sQ0FBQyxHQUFHLENBQUUsQ0FBQyxDQUFDLEVBQWYsQ0FBZSxFQUNwQixjQUFNLE9BQUEsS0FBSSxDQUFDLFdBQVcsRUFBRSxFQUFsQixDQUFrQixDQUFDLENBQUM7UUFFN0MsSUFBSSxDQUFDLFlBQVk7YUFDakIsa0JBQWtCLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQzthQUNsQyxTQUFTLENBQ1UsVUFBQSxDQUFDLElBQUksT0FBQSxLQUFJLENBQUMsa0JBQWtCLEdBQUMsQ0FBQyxFQUF6QixDQUF5QixFQUM5QixVQUFBLENBQUMsSUFBSSxPQUFBLE9BQU8sQ0FBQyxHQUFHLENBQUUsQ0FBQyxDQUFDLEVBQWYsQ0FBZSxFQUNwQixjQUFNLE9BQUEsS0FBSSxDQUFDLFdBQVcsRUFBRSxFQUFsQixDQUFrQixDQUFDLENBQUM7UUFFM0MsSUFBSSxDQUFDLFlBQVk7YUFDbkIsaUJBQWlCLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQzthQUNqQyxTQUFTLENBQ1UsVUFBQSxDQUFDLElBQUksT0FBQSxLQUFJLENBQUMsaUJBQWlCLEdBQUMsQ0FBQyxFQUF4QixDQUF3QixFQUM3QixVQUFBLENBQUMsSUFBSSxPQUFBLE9BQU8sQ0FBQyxHQUFHLENBQUUsQ0FBQyxDQUFDLEVBQWYsQ0FBZSxFQUNwQixjQUFNLE9BQUEsS0FBSSxDQUFDLFdBQVcsRUFBRSxFQUFsQixDQUFrQixDQUFDLENBQUM7UUFFNUMsSUFBSSxDQUFDLFlBQVk7YUFDbEIsaUJBQWlCLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQzthQUNqQyxTQUFTLENBQ1UsVUFBQSxDQUFDLElBQUksT0FBQSxLQUFJLENBQUMsaUJBQWlCLEdBQUMsQ0FBQyxFQUF4QixDQUF3QixFQUM3QixVQUFBLENBQUMsSUFBSSxPQUFBLE9BQU8sQ0FBQyxHQUFHLENBQUUsQ0FBQyxDQUFDLEVBQWYsQ0FBZSxFQUNwQixjQUFNLE9BQUEsS0FBSSxDQUFDLFdBQVcsRUFBRSxFQUFsQixDQUFrQixDQUFDLENBQUM7SUFxQ2xELENBQUM7SUFDRCx1REFBVyxHQUFYO0lBR0EsQ0FBQztJQUNELHdEQUFZLEdBQVosVUFBYSxTQUFpQjtRQUN4QixJQUFJLENBQUMsR0FBUSxFQUFFLENBQUM7UUFFaEIsR0FBRyxDQUFBLENBQUMsSUFBSSxDQUFDLEdBQUMsQ0FBQyxFQUFDLENBQUMsR0FBQyxTQUFTLENBQUMsTUFBTSxFQUFDLENBQUMsRUFBRSxFQUFDLENBQUM7WUFDN0IsSUFBSSxDQUFDLEdBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQztZQUM5QixJQUFJLENBQUMsR0FBQyxzQkFBc0IsR0FBQyxDQUFDLEdBQUMsUUFBUSxDQUFDO1lBQ3ZDLENBQUMsSUFBRSxDQUFDLENBQUM7UUFDYixDQUFDO1FBQ0QsTUFBTSxDQUFDLENBQUMsQ0FBQztJQUNiLENBQUM7SUFFSCx1REFBVyxHQUFYO1FBRU0sR0FBRyxDQUFBLENBQUMsSUFBSSxDQUFDLEdBQUUsQ0FBQyxFQUFDLENBQUMsR0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBQyxDQUFDLEVBQUUsRUFBQyxDQUFDO1lBRXBDLElBQUksQ0FBQywyQkFBMkIsQ0FBQyxJQUFJLENBQUMsRUFBQyxLQUFLLEVBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUcsS0FBSyxFQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFDLENBQUMsQ0FBQztRQUN0RyxDQUFDO0lBR1AsQ0FBQztJQUdELHFEQUFTLEdBQVQsVUFBVSxPQUFZO0lBRXRCLENBQUM7SUFHRCxzQkFBSSx5REFBVTthQUFkLGNBQW1CLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDOzs7T0FBQTtJQXhXbEU7UUFBQyxnQkFBUyxDQUFDO1lBQ1QsUUFBUSxFQUFFLE1BQU0sQ0FBQyxFQUFFO1lBQ25CLFFBQVEsRUFBRSw2QkFBNkI7WUFDdkMsV0FBVyxFQUFFLHlDQUF5QztZQUN0RCxTQUFTLEVBQUUsQ0FBQyx3Q0FBd0MsQ0FBQztZQUNyRCxTQUFTLEVBQUMsQ0FBQywyQkFBYyxFQUFDLGdDQUFZLEVBQUMsa0NBQWEsRUFBQyxnQ0FBYyxDQUFDO1NBQ3JFLENBQUM7O3lDQUFBO0lBb1dELHdDQUFDO0FBQUQsQ0FuV0QsQUFtV0UsSUFBQTtBQW5XVyx5Q0FBaUMsb0NBbVc1QyxDQUFBIiwiZmlsZSI6ImFwcC9zZWFyY2hmcmVlbGFuY2Vyc2RldGFpbHMvc2VhcmNoZnJlZWxhbmNlcnNkZXRhaWxzLmNvbXBvbmVudC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCxPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHtGb3JtR3JvdXAsRm9ybUNvbnRyb2wsVmFsaWRhdG9ycyxGb3JtQnVpbGRlcn0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xyXG5pbXBvcnQge0Zvcm1zTW9kdWxlLFJlYWN0aXZlRm9ybXNNb2R1bGV9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcclxuaW1wb3J0IHtNZXNzYWdlc01vZHVsZSxNZXNzYWdlLEdyb3dsfSBmcm9tICdwcmltZW5nL3ByaW1lbmcnO1xyXG5pbXBvcnQge1BhbmVsTW9kdWxlfSBmcm9tICdwcmltZW5nL3ByaW1lbmcnO1xyXG5pbXBvcnQgeyBBY3RpdmF0ZWRSb3V0ZSwgUm91dGVyLFBhcmFtcyB9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XHJcbmltcG9ydCB7QnV0dG9uTW9kdWxlfSBmcm9tICdwcmltZW5nL3ByaW1lbmcnO1xyXG5pbXBvcnQge09GQ01lbWJlcnN9IGZyb20gJy4vb2ZjbWVtYmVycyc7XHJcbmltcG9ydCB7RHJvcGRvd24xfSBmcm9tICcuL2Ryb3Bkb3duMSc7XHJcbmltcG9ydCB7RmlsZVVwbG9hZH0gZnJvbSAnLi9maWxldXBsb2FkJztcclxuaW1wb3J0IHtEYXRhVGFibGVNb2R1bGV9IGZyb20gJ3ByaW1lbmcvcHJpbWVuZyc7XHJcbmltcG9ydCB7RHJvcGRvd25Nb2R1bGV9IGZyb20gJ3ByaW1lbmcvcHJpbWVuZyc7XHJcbmltcG9ydCB7UmF0aW5nTW9kdWxlfSBmcm9tICdwcmltZW5nL3ByaW1lbmcnO1xyXG5cclxuaW1wb3J0IHsgTXlDdXJyZW5jeVBpcGUgfSBmcm9tICcuLi9zaGFyZWQvcGlwZXMvZmlyc3QucGlwZSc7XHJcbmltcG9ydCB7IFNlYXJjaEZyZWVMYW5jZXJzRGV0YWlsc1NlcnZpY2UgfSBmcm9tICcuLi9zaGFyZWQvc2VhcmNoZnJlZWxhbmNlcnNkZXRhaWxzL2luZGV4JztcclxuXHJcbmltcG9ydCB7RmlsZVVwbG9hZE1vZHVsZX0gZnJvbSAncHJpbWVuZy9wcmltZW5nJztcclxuaW1wb3J0IHtTZWxlY3RJdGVtfSBmcm9tICdwcmltZW5nL3ByaW1lbmcnO1xyXG5pbXBvcnQgeyBNeURhdGVGb3JtYXQgfSBmcm9tICcuLi9zaGFyZWQvcGlwZXMvbXlkYXRlZm9ybWF0LnBpcGUnO1xyXG5pbXBvcnQgeyBFbWFpbFZhbGlkYXRlIH0gZnJvbSAnLi4vc2hhcmVkL3BpcGVzL2VtYWlsdmFsaWRhdGUucGlwZSc7XHJcbmltcG9ydCB7IEN1c3RvbVZhbGlkYXRvciB9IGZyb20gJy4uL3NoYXJlZC92YWxpZGF0b3JzL3ZhbGlkYXRvci5kaXJlY3RpdmUnO1xyXG5pbXBvcnQge0Jhc2VVcmxTZXJ2aWNlfSBmcm9tICcuLi9zaGFyZWQvYmFzZXVybC9iYXNldXJsLnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBPRkNtZW1TZXNzaW9uIH0gZnJvbSAnLi4vbG9naW5wYWdlL29mY21lbXNlc3Npb24nO1xyXG5pbXBvcnQge1NraWxsfSBmcm9tICcuL3NraWxsJztcclxuaW1wb3J0IHtDZXJ0aWZpY2F0ZX0gZnJvbSAnLi9jZXJ0aWZpY2F0ZSc7XHJcbmltcG9ydCB7RW1wbG95bWVudH0gZnJvbSAnLi9lbXBsb3ltZW50JztcclxuaW1wb3J0IHtFeHBlcmllbmNlfSBmcm9tICcuL2V4cGVyaWVuY2UnO1xyXG5cclxuLyoqXHJcbiAqIFRoaXMgY2xhc3MgcmVwcmVzZW50cyB0aGUgbGF6eSBsb2FkZWQgc2VhcmNoZnJlZWxhbmNlcnNkZXRhaWxzQ29tcG9uZW50LlxyXG4gKi9cclxuQENvbXBvbmVudCh7XHJcbiAgbW9kdWxlSWQ6IG1vZHVsZS5pZCxcclxuICBzZWxlY3RvcjogJ3NkLXNlYXJjaGZyZWVsYW5jZXJzZGV0YWlscycsXHJcbiAgdGVtcGxhdGVVcmw6ICdzZWFyY2hmcmVlbGFuY2Vyc2RldGFpbHMuY29tcG9uZW50Lmh0bWwnLFxyXG4gIHN0eWxlVXJsczogWydzZWFyY2hmcmVlbGFuY2Vyc2RldGFpbHMuY29tcG9uZW50LmNzcyddLFxyXG4gIHByb3ZpZGVyczpbTXlDdXJyZW5jeVBpcGUsTXlEYXRlRm9ybWF0LEVtYWlsVmFsaWRhdGUsQmFzZVVybFNlcnZpY2VdXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBTZWFyY2hGcmVlTGFuY2Vyc0RldGFpbHNDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xyXG4gIC8vRm9ybSBncm9wIFxyXG4gIHVzZXJmb3JtOiBGb3JtR3JvdXA7XHJcbiAgLy8gR3Jvd2wgbWVzc2VnZVxyXG4gIG1zZ3M6IE1lc3NhZ2VbXT1bXTtcclxuXHJcbiAgLy9EZWNsYXJlOiBEYXRhIGhhbmRsaW5nIGZvciBHcmlkIGZsb3csIGZvcm0gZmxvd1xyXG4gIC8vIHNlYXJjaGZyZWVsYW5jZXJzZGV0YWlsc3M6IFNlYXJjaEZyZWVMYW5jZXJzRGV0YWlsc1tdPVtdO1xyXG4gIHN1Ym1pdHRlZDogYm9vbGVhbjtcclxuICAvLyBzZWFyY2hmcmVlbGFuY2Vyc2RldGFpbHM6IFNlYXJjaEZyZWVMYW5jZXJzRGV0YWlscztcclxuICAvLyBzZWxlY3RlZFJvdzogU2VhcmNoRnJlZUxhbmNlcnNEZXRhaWxzO1xyXG5cclxuICAgLy8gRm9ybSBkYXRhIHByZWZpbGxlZFxyXG4gICBkcnB2YXI6IERyb3Bkb3duMVtdPVtdO1xyXG4gICBkcnBzZWFyY2hmcmVlbGFuY2Vyc2RldGFpbHM6IFNlbGVjdEl0ZW1bXT1bXTtcclxuICAgc3RhcnRkYXRlOiBEYXRlO1xyXG4gICBlbmRkYXRlOiBEYXRlO1xyXG5cclxuICAgLy9ib29sZWFuIHZhbHVlIGZvciBBZGQgbmV3IG9yIEVkaXQgTW9kZVxyXG4gICBuZXdzZWFyY2hmcmVlbGFuY2Vyc2RldGFpbHM6IGJvb2xlYW47XHJcbiAgIFxyXG4gIC8vICBzZWxlY3RlZHNlYXJjaGZyZWVsYW5jZXJzZGV0YWlsczogc3RyaW5nO1xyXG4gICAgICAgXHJcbiAgLy8qKiogZmlsZXVwbG9hZCBEZWNsYXJlICoqKlxyXG4gIC8vQ2xpZW50IGZvcm1hdCBmb3IgZmlsZSB1cGxvYWRcclxuICB1cGxvYWRlZEZpbGVzOiBhbnlbXSA9IFtdO1xyXG4gIC8vc2VydmVyIGZvcm1hdCBmb3IgZmlsZSB1cGxvYWRcclxuICBmaWxldXBsb2FkYXJyOiBGaWxlVXBsb2FkW109W107XHJcbiAgZmlsZXVwbG9hZDogRmlsZVVwbG9hZDtcclxuXHJcbiAgbXliYXNldXJsOnN0cmluZztcclxuXHJcbiAgZnJlZWxhbmNlcm1lbWJlcjpPRkNNZW1iZXJzO1xyXG4gIG1lbWJlcl9pZDpzdHJpbmc9Jyc7XHJcblxyXG4gIGxpc3RvZmNlcnRpZmljYXRlczpDZXJ0aWZpY2F0ZVtdPVtdO1xyXG4gIGxpc3RvZmVtcGxveW1lbnRzOkVtcGxveW1lbnRbXT1bXTtcclxuICBsaXN0b2ZleHBlcmllbmNlczpFeHBlcmllbmNlW109W107XHJcblxyXG5cclxuICAvL1ByZXBhcmUgZGF0YSBmb3IgbmV3IGVudHJ5IG9yIGluaXRpemUgZGF0YSBkdXJpbmcgZm9ybSBsb2FkIGJ5IGNsZWFyaW5nIGRhdGEgb3IgcHJlc2V0dGluZyBkYXRhXHJcbiAgY2xlYXIoKXtcclxuICAgICAgICB0aGlzLm5ld3NlYXJjaGZyZWVsYW5jZXJzZGV0YWlscz10cnVlO1xyXG5cclxuICAgICAgICB0aGlzLmZyZWVsYW5jZXJtZW1iZXI9e1xyXG4gICAgICAgICAgXCJvZmNtZW1iZXJzX2lkXCI6XCJcIixcclxuICAgICAgICAgIFwib2ZjbWVtYmVyc19mbmFtZVwiOlwiXCIsXHJcbiAgICAgICAgICBcIm9mY21lbWJlcnNfbW5hbWVcIjpcIlwiLFxyXG4gICAgICAgICAgXCJvZmNtZW1iZXJzX2xuYW1lXCI6XCJcIixcclxuICAgICAgICAgIFwib2ZjbWVtYmVyc19uYW1lXCI6XCJcIixcclxuICAgICAgICAgIFwib2ZjbWVtYmVyX3R5cGVcIjpcIlwiLFxyXG4gICAgICAgICAgXCJjaXR5X2lkXCI6XCJcIixcclxuICAgICAgICAgIFwib2ZjbWVtYmVyc19lbWFpbGlkXCI6XCJcIixcclxuICAgICAgICAgIFwib2ZjbWVtYmVyc19wYXNzd29yZFwiOlwiXCIsXHJcbiAgICAgICAgICBcIm9mY21lbWJlcnNfYWRkcmVzczFcIjpcIlwiLFxyXG4gICAgICAgICAgXCJvZmNtZW1iZXJzX2FkZHJlc3MyXCI6XCJcIixcclxuICAgICAgICAgIFwib2ZjbWVtYmVyc19waW5jb2RlXCI6XCJcIixcclxuICAgICAgICAgIFwib2ZjbWVtYmVyc19jb250YWN0bm9zXCI6XCJcIixcclxuICAgICAgICAgIFwib2ZjbWVtYmVyc19hdmFpbGFiaWxpdHlcIjpcIlwiLFxyXG4gICAgICAgICAgXCJvZmNtZW1iZXJzX2Rpc3BsYXluYW1lXCI6XCJcIixcclxuICAgICAgICAgIFwib2ZjbWVtYmVyc19kZXNjcmlwdGlvblwiOlwiXCIsXHJcbiAgICAgICAgICBcIm9mY21lbWJlcnNfc2VsZnJhdGluZ1wiOlwiXCIsXHJcbiAgICAgICAgICBcIm9mY21lbWJlcnNfZXhwZXJpZW5jZWxldmVsXCI6XCJcIixcclxuICAgICAgICAgIFwib2ZjbWVtYmVyc19nZW5kZXJcIjpcIlwiLFxyXG4gICAgICAgICAgXCJvZmNtZW1iZXJzX2RvYlwiOlwiXCIsXHJcbiAgICAgICAgICBcIm9mY21lbWJlcnNfbm9zb2Z0ZWFtbWVtYmVyc1wiOlwiXCIsXHJcbiAgICAgICAgICBcInN0YXR1c1wiOlwiXCIsXHJcbiAgICAgICAgICBcImNvdW50cnlfaWRcIjpcIlwiLFxyXG4gICAgICAgICAgXCJjb3VudHJ5X25hbWVcIjpcIlwiLFxyXG4gICAgICAgICAgXCJzdGF0ZV9pZFwiOlwiXCIsXHJcbiAgICAgICAgICBcInN0YXRlX25hbWVcIjpcIlwiLFxyXG4gICAgICAgICAgXCJjaXR5X25hbWVcIjpcIlwiLFxyXG4gICAgICAgICAgXCJza2lsbHNhcnJcIjpbXVxyXG4gICAgICAgIH07XHJcblxyXG5cclxuICAgICAgXHJcbiAgICAgIFxyXG4gICAgICBcclxuICAgIHRoaXMuZmlsZXVwbG9hZD17XHJcbiAgICAgIGZpbGVOYW1lOiAnJyxcclxuICAgICAgZmlsZVR5cGU6ICcnLFxyXG4gICAgICBmaWxlUGF0aDogJycsXHJcbiAgICAgIGZpbGVTdGF0dXM6ICcnLFxyXG4gICAgICB1cGxvYWRmaWxlX2ZpbGVuYW1lOiAnJ1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gY29uc3RydWN0b3IgaW5pdGlhemUgb2YgYWxsIG5lY2Vzc2FyeSB2YXJpYWJsZSBhbmQgb2JqZWN0c1xyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgZmI6IEZvcm1CdWlsZGVyLFxyXG4gICAgICAgICAgICAgIHByaXZhdGUgcm91dGU6IEFjdGl2YXRlZFJvdXRlLFxyXG4gICAgICAgICAgICAgIHByaXZhdGUgcm91dGVyOiBSb3V0ZXIsXHJcbiAgICAgICAgICAgICAgcHJpdmF0ZSBsb2NhbFNlcnZpY2U6IFNlYXJjaEZyZWVMYW5jZXJzRGV0YWlsc1NlcnZpY2UsXHJcbiAgICAgICAgICAgICAgcHJpdmF0ZSBteWN1cjogTXlDdXJyZW5jeVBpcGUsXHJcbiAgICAgICAgICAgICAgcHJpdmF0ZSBteWRhdGUxOiBNeURhdGVGb3JtYXQsXHJcbiAgICAgICAgICAgICAgcHJpdmF0ZSBlbWFpbHZhbDogRW1haWxWYWxpZGF0ZSxcclxuICAgICAgICAgICAgICBwcml2YXRlIGJhc2VVcmxzZXJ2aWNlOkJhc2VVcmxTZXJ2aWNlXHJcbiAgICAgICAgICAgICAgKXtcclxuICAgICAgICAgICB0aGlzLm15YmFzZXVybD1iYXNlVXJsc2VydmljZS5nZXRCYXNldXJsKCk7ICAgICBcclxuICAgICAgICAgIC8vIGRycG9wIGRvd24gY2FuIG9ubHkgYmUgcG9wdWxhdGVkIGluIGNvbnN0cnVjdG9yIGFuZCBub3QgaW4gbmdpbml0KClcclxuICAgICAgICAgIC8vIHRoaXMubG9jYWxTZXJ2aWNlXHJcbiAgICAgICAgICAvLyAuZ2V0c2VsZWN0ZHJwc2VhcmNoZnJlZWxhbmNlcnNkZXRhaWxzKCdoaicpXHJcbiAgICAgICAgICAvLyAuc3Vic2NyaWJlKFxyXG4gICAgICAgICAgLy8gICAvKiBoYXBweSBwYXRoICovIHAgPT50aGlzLmRycHZhcj1wLC8vYWxlcnQoIEpTT04uc3RyaW5naWZ5KCBwKSksXHJcbiAgICAgICAgICAvLyAgIC8qIGVycm9yIHBhdGggKi8gZSA9PiBjb25zb2xlLmxvZyhlKSxcclxuICAgICAgICAgIC8vICAgLyogb25Db21wbGV0ZSAqLyAoKSA9PiB0aGlzLnBvcHVsYXRlZHJwKCkpOy8ve3RoaXMubXltZXRob2QodGhpcy5kcnB2YXIpO30pOy8vdGhpcy5tc2dzLnB1c2goe3NldmVyaXR5OidpbmZvJywgc3VtbWFyeTonU3VjY2VzcycsIGRldGFpbDonRm9ybSBVcGRhdGUgU3VjY2Vzc2Z1bGx5OiAnICsgSlNPTi5zdHJpbmdpZnkoIHRoaXMuZHJwdmFyKSArICcgOiAnICsgdGhpcy5kcnB2YXIubGVuZ3RofSkpO1xyXG5cclxuICAgIFxyXG4gIH1cclxuICBvblJvd1NlbGVjdChldmVudDogYW55KXtcclxuICAgICAgICAgLy9JbmRpY2F0b3IgZm9yIGZvcm0gaXMgaW4gRWRpdCBtb2RlXHJcbiAgICAgICAgIHRoaXMubmV3c2VhcmNoZnJlZWxhbmNlcnNkZXRhaWxzPWZhbHNlO1xyXG4gICAgICAgICAvL0NvcHkgb2Ygcm93IHNlbGVjdGVkXHJcbiAgICAgICAgLy8gIHRoaXMuc2VhcmNoZnJlZWxhbmNlcnNkZXRhaWxzPXRoaXMuc2VsZWN0ZWRSb3c7XHJcbiAgICAgICAgLy8gIGxldCB0ZW1wcHJvajogU2VhcmNoRnJlZUxhbmNlcnNEZXRhaWxzO1xyXG4gICAgICAgIC8vICB0ZW1wcHJvaiA9IHRoaXMuc2VsZWN0ZWRSb3c7XHJcbiAgICAgICAgIC8vQ2FsbGluZyBXUyB0byBnZXQgdGhlIHNlbGVjdGVkIGRhdGEgZnJvbSBzZXJ2ZXIgREIgb2YgdGhlIHNlbGVjdGVkIHJvd1xyXG4gICAgICAgICAvKlxyXG4gICAgICAgICB0aGlzLmxvY2FsU2VydmljZVxyXG4gICAgICAuZ2V0c2VsZWN0QWxsZmlsZVNlYXJjaEZyZWVMYW5jZXJzRGV0YWlscyh0ZW1wcHJvai5zZWFyY2hmcmVlbGFuY2Vyc2RldGFpbHNfaWQpXHJcbiAgICAgIC5zdWJzY3JpYmUoXHJcbiAgICAgICAgIC8qIGhhcHB5IHBhdGggKi8gLy9wID0+IHRoaXMuZmlsZXVwbG9hZGFycj1wLFxyXG4gICAgICAgICAvKiBlcnJvciBwYXRoICovIC8vZSA9PiBjb25zb2xlLmxvZyggZSksXHJcbiAgICAgICAgIC8qIG9uQ29tcGxldGUgKi8gLy8oKSA9PiBjb25zb2xlLmxvZygnZG9uZSBnZXRzZWxlY3RBbGxmaWxldXBsb2Fkc2VhcmNoZnJlZWxhbmNlcnNkZXRhaWxzOiAnICsgdGhpcy5maWxldXBsb2FkYXJyKSk7XHJcblxyXG4gICAgICAgIC8vICBjb25zb2xlLmxvZygnb25Sb3dTZWxlY3Q6ICcgKyBKU09OLnN0cmluZ2lmeSAodGhpcy5zZWFyY2hmcmVlbGFuY2Vyc2RldGFpbHMpKTtcclxuICAgICAgICAvLyAgY29uc29sZS5sb2coJ29uUm93U2VsZWN0IGZpbGV1cGxvYWRhcnI6ICcgKyBKU09OLnN0cmluZ2lmeSAodGhpcy5maWxldXBsb2FkYXJyKSk7XHJcblxyXG4gICAgICAgICAvL0NhbGxpbmcgV1MgdG8gZ2V0IHRoZSBzZWxlY3RlZCBkYXRhIGZyb20gc2VydmVyIERCIG9mIHRoZSBzZWxlY3RlZCByb3dcclxuICAgICAgICAvKlxyXG4gICAgICAgIHRoaXMubG9jYWxTZXJ2aWNlXHJcbiAgICAgIC5nZXRlZGl0KHRlbXBwcm9qLnNlYXJjaGZyZWVsYW5jZXJzZGV0YWlsc19pZClcclxuICAgICAgLnN1YnNjcmliZShcclxuICAgICAgICAgLyogaGFwcHkgcGF0aCAqLyAvL3AgPT4gdGhpcy5zZWFyY2hmcmVlbGFuY2Vyc2RldGFpbHM9cCxcclxuICAgICAgICAgLyogZXJyb3IgcGF0aCAqLyAvL2UgPT4gY29uc29sZS5sb2coIGUpLFxyXG4gICAgICAgICAvKiBvbkNvbXBsZXRlICovIC8vKCkgPT4ge3RoaXMuYWZ0ZXJjYWxsZGF0ZSgpO30gKTsvL2NvbnNvbGUubG9nKCdkb25lIGdldHNlbGVjdEVkaXRzZWFyY2hmcmVlbGFuY2Vyc2RldGFpbHM6ICcgKyB0aGlzLnNlYXJjaGZyZWVsYW5jZXJzZGV0YWlscykpO1xyXG5cclxuICAgICAgICAgXHJcbiAgICAgICAgIFxyXG4gIH1cclxuICBhZnRlcmNhbGxkYXRlKCl7XHJcbiAgICAvKlxyXG4gICAgIGFsZXJ0KEpTT04uc3RyaW5naWZ5KCB0aGlzLnNlYXJjaGZyZWVsYW5jZXJzZGV0YWlscykpO1xyXG4gICAgYWxlcnQodGhpcy5zZWFyY2hmcmVlbGFuY2Vyc2RldGFpbHMuc2VhcmNoZnJlZWxhbmNlcnNkZXRhaWxzX2VuZGRhdGUpO1xyXG4gICAgICAgICBhbGVydChuZXcgRGF0ZShOdW1iZXIodGhpcy5zZWFyY2hmcmVlbGFuY2Vyc2RldGFpbHMuc2VhcmNoZnJlZWxhbmNlcnNkZXRhaWxzX2VuZGRhdGUpICkpO1xyXG4gICAgICAgICBhbGVydChuZXcgRGF0ZShOdW1iZXIodGhpcy5zZWFyY2hmcmVlbGFuY2Vyc2RldGFpbHMuc2VhcmNoZnJlZWxhbmNlcnNkZXRhaWxzX3N0YXJ0ZGF0ZSkgKSk7XHJcbiAgICB0aGlzLnN0YXJ0ZGF0ZSAgPSBuZXcgRGF0ZShOdW1iZXIodGhpcy5zZWFyY2hmcmVlbGFuY2Vyc2RldGFpbHMuc2VhcmNoZnJlZWxhbmNlcnNkZXRhaWxzX3N0YXJ0ZGF0ZSApKTtcclxuICAgIHRoaXMuZW5kZGF0ZSAgPSBuZXcgRGF0ZShOdW1iZXIodGhpcy5zZWFyY2hmcmVlbGFuY2Vyc2RldGFpbHMuc2VhcmNoZnJlZWxhbmNlcnNkZXRhaWxzX2VuZGRhdGUgKSk7XHJcbiAgXHJcbiovXHJcbn1cclxuXHJcbiAgLy9QcmVwYXJlIGZvciBKU09OIGZvciBmaWxlIHRvIGJlIHVwbG9hZGVkIHRvIHNlcnZlciBqdXN0IGFmdGVyIGZvcm0gc3VibWlzc2lvblxyXG4gIG9uRmluYWxGaWxlVXBsb2FkKCl7ICAgXHJcbiAgXHJcbiAgICAvLyBhbGVydCh0aGlzLnVwbG9hZGVkRmlsZXMubGVuZ3RoKTtcclxuICAgIGZvcihsZXQgaT0wO2k8dGhpcy51cGxvYWRlZEZpbGVzLmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgbGV0IGZpbGVuYW1lPXRoaXMudXBsb2FkZWRGaWxlc1tpXS5uYW1lO1xyXG4gICAgICAgICBcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgdGhpcy5maWxldXBsb2FkLmZpbGVOYW1lPWZpbGVuYW1lO1xyXG4gICAgICAgICAgdGhpcy5maWxldXBsb2FkLmZpbGVQYXRoPScnO1xyXG4gICAgICAgICAgdGhpcy5maWxldXBsb2FkLmZpbGVTdGF0dXM9J1llcyc7XHJcbiAgICAgICAgICB0aGlzLmZpbGV1cGxvYWQuZmlsZVR5cGU9J2ltZyc7XHJcbiAgICAgICAgICB0aGlzLmZpbGV1cGxvYWQudXBsb2FkZmlsZV9maWxlbmFtZT0nJztcclxuICAgICAgICAgLy8gYWxlcnQoXCJpbnNpZGVmaWxldXBsb2FkOiBcIiArIEpTT04uc3RyaW5naWZ5KHRoaXMuZmlsZXVwbG9hZCkpO1xyXG4gICAgICAgICAgdGhpcy5maWxldXBsb2FkYXJyLnB1c2godGhpcy5maWxldXBsb2FkKTtcclxuICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICBcclxuICB9IFxyXG5cclxuICAvLyBEYXRlIGNoYW5nZSBldmVudCB0byBmb3JtYXQgbmdtb2RlbCB0byBvdXIgZm9ybWF0IGRhdGUgYW5kIGNhbGxpbmcgcGlwZSBcclxuICAvLyBzdGFydGRhdGVjaGFuZ2UoKXtcclxuICAvLyAgIHRoaXMuc2VhcmNoZnJlZWxhbmNlcnNkZXRhaWxzLnByb2ptaWxlX3N0YXJ0ZGF0ZT10aGlzLm15ZGF0ZTEucGFyc2UodGhpcy5zZWFyY2hmcmVlbGFuY2Vyc2RldGFpbHMucHJvam1pbGVfc3RhcnRkYXRlKVxyXG4gIC8vIH1cclxuICAvLyBlbmRkYXRlY2hhbmdlKCl7XHJcbiAgLy8gICB0aGlzLnNlYXJjaGZyZWVsYW5jZXJzZGV0YWlscy5wcm9qbWlsZV9lbmRkYXRlPXRoaXMubXlkYXRlMS5wYXJzZSh0aGlzLnNlYXJjaGZyZWVsYW5jZXJzZGV0YWlscy5wcm9qbWlsZV9lbmRkYXRlKVxyXG4gIC8vIH1cclxuXHJcblxyXG4gIG9uU3VibWl0KCl7XHJcbiAgICAgIC8vICAgYWxlcnQoSlNPTi5zdHJpbmdpZnkodGhpcy5zZWxlY3RlZFJvdykpO1xyXG4gICAgICAgIC8vYWxlcnQodGhpcy5zZWFyY2hmcmVlbGFuY2Vyc2RldGFpbHMuc2VhcmNoZnJlZWxhbmNlcnNkZXRhaWxzX3N0YXJ0ZGF0ZSk7XHJcbiAgICAgICAgLy90aGlzLnNlYXJjaGZyZWVsYW5jZXJzZGV0YWlscy5zZWFyY2hmcmVlbGFuY2Vyc2RldGFpbHNfc3RhcnRkYXRlPXRoaXMubXlkYXRlMS5wYXJzZSh0aGlzLnN0YXJ0ZGF0ZSlcclxuICBcclxuICAgICAgICAvL3RoaXMuc2VhcmNoZnJlZWxhbmNlcnNkZXRhaWxzLnNlYXJjaGZyZWVsYW5jZXJzZGV0YWlsc19lbmRkYXRlPXRoaXMubXlkYXRlMS5wYXJzZSh0aGlzLmVuZGRhdGUpXHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5vbkZpbmFsRmlsZVVwbG9hZCgpO1xyXG4gICAgICAgIHRoaXMuc3VibWl0dGVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLm1zZ3MgPSBbXTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeSh0aGlzLnNlYXJjaGZyZWVsYW5jZXJzZGV0YWlscykpO1xyXG4gICAgICAgIHRoaXMubXNncy5wdXNoKHtzZXZlcml0eTonaW5mbycsIHN1bW1hcnk6J1BsZWFzZSB3YWl0JywgZGV0YWlsOidGb3JtIFN1Ym1pdHRlZCBTdWNjZXNzZnVsbHkuLiBQbGVhc2Ugd2FpdC4uJ30pXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gIGNvbnNvbGUubG9nKCdvblN1Ym1pdCBvblJvd1NlbGVjdDogJyArIEpTT04uc3RyaW5naWZ5ICh0aGlzLnNlYXJjaGZyZWVsYW5jZXJzZGV0YWlscykpO1xyXG4gICAgICAgIC8vICBjb25zb2xlLmxvZygnb25TdWJtaXQgb25Sb3dTZWxlY3QgZmlsZXVwbG9hZGFycjogJyArIEpTT04uc3RyaW5naWZ5ICh0aGlzLmZpbGV1cGxvYWRhcnIpKTtcclxuICAgICAgICAvKlxyXG4gICAgICAgIGlmKHRoaXMubmV3c2VhcmNoZnJlZWxhbmNlcnNkZXRhaWxzKXsvL0FkZCBuZXcgZW50cnkgc2F2aW5nXHJcbiAgICAgICAgICAgdGhpcy5sb2NhbFNlcnZpY2VcclxuICAgICAgICAgIC5pbnNlcnQodGhpcy5zZWFyY2hmcmVlbGFuY2Vyc2RldGFpbHMsdGhpcy5maWxldXBsb2FkYXJyKVxyXG4gICAgICAgICAgLnN1YnNjcmliZShcclxuICAgICAgICAgICAgLyogaGFwcHkgcGF0aCAqLyAvL3AgPT4gdGhpcy5zZWFyY2hmcmVlbGFuY2Vyc2RldGFpbHNzID0gcCxcclxuICAgICAgICAgICAgLyogZXJyb3IgcGF0aCAqLyAvL2UgPT4gY29uc29sZS5sb2coZSksXHJcbiAgICAgICAgICAgIC8qIG9uQ29tcGxldGUgKi8gLy8oKSA9PiB0aGlzLm1zZ3MucHVzaCh7c2V2ZXJpdHk6J2luZm8nLCBzdW1tYXJ5OidTdWNjZXNzJywgZGV0YWlsOidGb3JtIFVwZGF0ZSBTdWNjZXNzZnVsbHknfSkpO1xyXG4gICAgICAgIC8vfVxyXG4gICAgICAgIC8qXHJcbiAgICAgICAgZWxzZXsgLy8gdXBkYXRlIGVudHJ5IHNhdmluZ1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ3NlYXJjaGZyZWVsYW5jZXJzZGV0YWlsczogJyArIEpTT04uc3RyaW5naWZ5KCB0aGlzLnNlYXJjaGZyZWVsYW5jZXJzZGV0YWlscykgKyAnICwgZjonICsgIEpTT04uc3RyaW5naWZ5KCB0aGlzLmZpbGV1cGxvYWRhcnIpKTtcclxuICAgICAgICAgIHRoaXMubG9jYWxTZXJ2aWNlXHJcbiAgICAgICAgICAudXBkYXRlKHRoaXMuc2VhcmNoZnJlZWxhbmNlcnNkZXRhaWxzLHRoaXMuZmlsZXVwbG9hZGFycilcclxuICAgICAgICAgIC5zdWJzY3JpYmUoXHJcbiAgICAgICAgICAgIC8qIGhhcHB5IHBhdGggKi8gLy9wID0+IHRoaXMuc2VhcmNoZnJlZWxhbmNlcnNkZXRhaWxzcyA9IHAsXHJcbiAgICAgICAgICAgIC8qIGVycm9yIHBhdGggKi8gLy9lID0+IGNvbnNvbGUubG9nKGUpLFxyXG4gICAgICAgICAgICAvKiBvbkNvbXBsZXRlICovIC8vKCkgPT4gdGhpcy5tc2dzLnB1c2goe3NldmVyaXR5OidpbmZvJywgc3VtbWFyeTonU3VjY2VzcycsIGRldGFpbDonRm9ybSBVcGRhdGUgU3VjY2Vzc2Z1bGx5J30pKTtcclxuICAgICAgICAvL31cclxuICAgICAgICAgIHRoaXMuc3VibWl0dGVkID0gdHJ1ZTtcclxuICAgICAgICAgIHRoaXMubXNncyA9IFtdO1xyXG4gICAgICAgICAgdGhpcy5tc2dzLnB1c2goe3NldmVyaXR5OidpbmZvJywgc3VtbWFyeTonU3VjY2VzcycsIGRldGFpbDonRm9ybSBVcGRhdGUgU3VjY2Vzc2Z1bGx5J30pO1xyXG4gIH1cclxuXHJcbiAgLy91cGxvYWQgZmlsZXMgdG8gdGhlIHNlcnZlclxyXG5vblVwbG9hZChldmVudDogYW55KXtcclxuICAvL2FsZXJ0KGV2ZW50LmZpbGVzKTtcclxuICBmb3IobGV0IGZpbGUgb2YgZXZlbnQuZmlsZXMpIHtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgdGhpcy51cGxvYWRlZEZpbGVzLnB1c2goZmlsZSk7XHJcbiAgfVxyXG4gIFxyXG4gIC8vY29uc29sZS5sb2coZXZlbnQueGhyLnJlc3BvbnNlKTtcclxuICB0aGlzLm1zZ3MgPSBbXTtcclxuICB0aGlzLm1zZ3MucHVzaCh7c2V2ZXJpdHk6ICdpbmZvJywgc3VtbWFyeTogJ0ZpbGUgVXBsb2FkZWQnLCBkZXRhaWw6ICcnfSk7XHJcbn1cclxuXHJcbiAgLy9GaWxlIHVwbG9hZCBldmVudFxyXG5vbkJlZm9yZVVwbG9hZChldmVudCA6YW55ICl7XHJcbiAgZXZlbnQueGhyLnNldFJlcXVlc3RIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7bXVsdGlwYXJ0L2Zvcm0tZGF0YTsnKTtcclxuICBjb25zb2xlLmxvZyhcIm1pdGggaGVyZTpcIik7XHJcbn1cclxuXHJcbi8vRm9ybSBpbml0XHJcbm5nT25Jbml0KCkgeyBcclxuICAgICAgLy9DbGVhciBldmVudCBhbmQgaW5pdGFsaXplIG9iamVjdHNcclxuICAgICAgdGhpcy5jbGVhcigpO1xyXG4gICAgICAgICAgICB2YXIgZGF0YSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ21lbWJlcmRldGFpbHMnKTtcclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKCdvbnNlc3Npb25TdG9yYWdlIDogJyArIEpTT04ucGFyc2UoZGF0YSkpO1xyXG4gICAgICBsZXQgb2ZjbWVtc2Vzc2lvbjogT0ZDbWVtU2Vzc2lvbiA9IEpTT04ucGFyc2UoZGF0YSk7XHJcbiAgICAgIGxldCBvZmNtZW1zZXNzaW9uX2lkID0gb2ZjbWVtc2Vzc2lvbi5vZmNtZW1zZXNzaW9uX2lkO1xyXG4gICAgICBjb25zb2xlLmxvZygnb2ZjbWVtc2Vzc2lvbl9pZCA6ICcgKyBvZmNtZW1zZXNzaW9uX2lkKTtcclxuXHJcbiAgICAgIC8vbGV0IG1lbWJlcl9pZCA9IG9mY21lbXNlc3Npb24ub2ZjbWVtYmVyc19pZDtcclxuXHJcbiAgICAgIHRoaXMucm91dGUucGFyYW1zLmZvckVhY2goKHBhcmFtczogUGFyYW1zKSA9PiB7XHJcbiAgICAgIHRoaXMubWVtYmVyX2lkID0gcGFyYW1zW1wiZnJlZWxhbmNlcmlkXCJdO1xyXG5cclxuICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgIHRoaXMubG9jYWxTZXJ2aWNlXHJcbiAgICAgIC5nZXRlZGl0KG9mY21lbXNlc3Npb25faWQsdGhpcy5tZW1iZXJfaWQpXHJcbiAgICAgIC5zdWJzY3JpYmUoXHJcbiAgICAgICAgIC8qIGhhcHB5IHBhdGggKi8gcCA9PiB0aGlzLmZyZWVsYW5jZXJtZW1iZXI9cFswXSxcclxuICAgICAgICAgLyogZXJyb3IgcGF0aCAqLyBlID0+IGNvbnNvbGUubG9nKCBlKSxcclxuICAgICAgICAgLyogb25Db21wbGV0ZSAqLyAoKSA9PiB0aGlzLnByb2Nlc3NkYXRhKCkpO1xyXG5cclxuICAgICAgIHRoaXMubG9jYWxTZXJ2aWNlXHJcbiAgICAgIC5nZXRDZXJ0aWZpY2F0ZUxpc3QodGhpcy5tZW1iZXJfaWQpXHJcbiAgICAgIC5zdWJzY3JpYmUoXHJcbiAgICAgICAgIC8qIGhhcHB5IHBhdGggKi8gcCA9PiB0aGlzLmxpc3RvZmNlcnRpZmljYXRlcz1wLFxyXG4gICAgICAgICAvKiBlcnJvciBwYXRoICovIGUgPT4gY29uc29sZS5sb2coIGUpLFxyXG4gICAgICAgICAvKiBvbkNvbXBsZXRlICovICgpID0+IHRoaXMucHJvY2Vzc2RhdGEoKSk7XHJcblxyXG4gICAgICAgICB0aGlzLmxvY2FsU2VydmljZVxyXG4gICAgICAuZ2V0RW1wbG95bWVudExpc3QodGhpcy5tZW1iZXJfaWQpXHJcbiAgICAgIC5zdWJzY3JpYmUoXHJcbiAgICAgICAgIC8qIGhhcHB5IHBhdGggKi8gcCA9PiB0aGlzLmxpc3RvZmVtcGxveW1lbnRzPXAsXHJcbiAgICAgICAgIC8qIGVycm9yIHBhdGggKi8gZSA9PiBjb25zb2xlLmxvZyggZSksXHJcbiAgICAgICAgIC8qIG9uQ29tcGxldGUgKi8gKCkgPT4gdGhpcy5wcm9jZXNzZGF0YSgpKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2NhbFNlcnZpY2VcclxuICAgICAgLmdldEV4cGVyaWVuY2VMaXN0KHRoaXMubWVtYmVyX2lkKVxyXG4gICAgICAuc3Vic2NyaWJlKFxyXG4gICAgICAgICAvKiBoYXBweSBwYXRoICovIHAgPT4gdGhpcy5saXN0b2ZleHBlcmllbmNlcz1wLFxyXG4gICAgICAgICAvKiBlcnJvciBwYXRoICovIGUgPT4gY29uc29sZS5sb2coIGUpLFxyXG4gICAgICAgICAvKiBvbkNvbXBsZXRlICovICgpID0+IHRoaXMucHJvY2Vzc2RhdGEoKSk7XHJcbiAgICAgICAgICBcclxuXHJcbiAgICAgIC8vIGFsZXJ0KCB0aGlzLnN0YXJ0ZGF0ZS5nZXREYXkgKyAnLycgK3RoaXMuc3RhcnRkYXRlLmdldE1vbnRoICsgJy8nICt0aGlzLnN0YXJ0ZGF0ZS5nZXRGdWxsWWVhcik7IFxyXG4gICAgICAvLyBhbGVydCggJ251bWJlcjogJyArIHRoaXMubXljdXIucGFyc2UoXCIxMFwiKSk7XHJcbiAgICAgIC8vIGxldCBibDogYm9vbGVhbjtcclxuICAgICAgLy8gYmwgPSAgdGhpcy5lbWFpbHZhbC5wYXJzZSgnYXR1bGt1bHZlZ21haWwuY29tJywnJyk7XHJcbiAgICAgIC8vIGFsZXJ0KGJsICk7XHJcblxyXG4gICAgICAvL0NyZWF0ZSB1c2VyZm9ybSBhbmQgYXBwbHkgVmFsaWRhdGlvblxyXG4gICAgICAvLyBhbGVydCh0aGlzLm15ZGF0ZTEucGFyc2UoICcyMDE2LTEyLTEzVDE4OjMwOjAwLjAwMFonKSk7XHJcbiAgICAgIC8vIHRoaXMudXNlcmZvcm0gPSB0aGlzLmZiLmdyb3VwKHtcclxuICAgICAgLy8gICAgICAgJ25hbWUnOiBuZXcgRm9ybUNvbnRyb2woJycsIFZhbGlkYXRvcnMuY29tcG9zZShbVmFsaWRhdG9ycy5yZXF1aXJlZCxDdXN0b21WYWxpZGF0b3IuaXNFbWFpbFZhbGlkXSkpLFxyXG4gICAgICAvLyAgICAgICAgJ2J1ZGdldCc6IG5ldyBGb3JtQ29udHJvbCgnJywgVmFsaWRhdG9ycy5yZXF1aXJlZCksXHJcbiAgICAgIC8vICAgICAgICAncmVtYXJrcyc6IG5ldyBGb3JtQ29udHJvbCgnJywgVmFsaWRhdG9ycy5yZXF1aXJlZCksXHJcbiAgICAgIC8vICAgICAgICAnbWFuaG91cnMnOiBuZXcgRm9ybUNvbnRyb2woJycsIFZhbGlkYXRvcnMucmVxdWlyZWQpLFxyXG4gICAgICAvLyAgICAgICAgJ3N0YXJ0ZGF0ZXYnOiBuZXcgRm9ybUNvbnRyb2woJycsIFZhbGlkYXRvcnMucmVxdWlyZWQpLFxyXG4gICAgICAvLyAgICAgICAgJ2VuZGRhdGV2JzogbmV3IEZvcm1Db250cm9sKCcnLCBWYWxpZGF0b3JzLnJlcXVpcmVkKSxcclxuICAgICAgLy8gICAgICAgICd0aW1lZnJhbWUnOiBuZXcgRm9ybUNvbnRyb2woJycsIFZhbGlkYXRvcnMucmVxdWlyZWQpLFxyXG4gICAgICAvLyAgICAgICAgJ2NvbXBsZXRlZCc6IG5ldyBGb3JtQ29udHJvbCgnJywgVmFsaWRhdG9ycy5yZXF1aXJlZCksXHJcbiAgICAgIC8vICAgICAgICAnY29tbWlzc2lvbic6IG5ldyBGb3JtQ29udHJvbCgnJywgVmFsaWRhdG9ycy5yZXF1aXJlZCksXHJcbiAgICAgIC8vICAgICAgICAnZGVzY3JpcHRpb24nOiBuZXcgRm9ybUNvbnRyb2woJycsIFZhbGlkYXRvcnMucmVxdWlyZWQpLFxyXG4gICAgICAvLyAgICAgICAgJ2RheXNyZXF1aXJlZCc6IG5ldyBGb3JtQ29udHJvbCgnJywgVmFsaWRhdG9ycy5yZXF1aXJlZCksXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAvLyAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vcHJlbG9hZCBkYXRhIEdyaWQgcmVxdWlyZWQgXHJcbiAgICAgICAgLypcclxuICAgICAgICB0aGlzLmxvY2FsU2VydmljZVxyXG4gICAgICAuZ2V0YWxsKClcclxuICAgICAgLnN1YnNjcmliZShcclxuICAgICAgICAgLyogaGFwcHkgcGF0aCAqLyAvL3AgPT4gdGhpcy5zZWFyY2hmcmVlbGFuY2Vyc2RldGFpbHNzPXAsXHJcbiAgICAgICAgIC8qIGVycm9yIHBhdGggKi8gLy9lID0+IGNvbnNvbGUubG9nKCBlKSxcclxuICAgICAgICAgLyogb25Db21wbGV0ZSAqLyAvLygpID0+IHRoaXMucHJvY2Vzc2RhdGEoKSk7XHJcblxyXG4gICAgICAgICBcclxuICAgICAgICBcclxuICB9XHJcbiAgcHJvY2Vzc2RhdGEoKXtcclxuICAgIFxyXG5cclxuICB9XHJcbiAgZ2V0U2tpbGxMaXN0KHNraWxsTGlzdDpTa2lsbFtdKTpzdHJpbmd7XHJcbiAgICAgICAgbGV0IGE6c3RyaW5nPVwiXCI7XHJcblxyXG4gICAgICAgIGZvcihsZXQgaT0wO2k8c2tpbGxMaXN0Lmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICAgICBsZXQgYz1za2lsbExpc3RbaV0uc2tpbGxfbmFtZTtcclxuICAgICAgICAgICAgICAgbGV0IGI9JzxkaXYgY2xhc3M9XCJza2lsbHNcIj4nK2MrJzwvZGl2Pic7XHJcbiAgICAgICAgICAgICAgICBhKz1iO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYTtcclxuICAgIH1cclxuXHJcbiAgcG9wdWxhdGVkcnAoKXsgLy9wb3B1bGF0ZSBkcm9wZG93bnMgb24gcGFnZSBsb2FkLiBieSB1c2luZyBwdXNoIGFuZCBTZWxlY3RJdGVtXHJcbiAgICAvL2NvbnNvbGUubG9nKHRoaXMuZHJwdmFyLmxlbmd0aCk7XHJcbiAgICAgICAgZm9yKHZhciBpID0wO2k8dGhpcy5kcnB2YXIubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICAvL2FsZXJ0KHRoaXMuZHJwdmFyW2ldLmxhYmVsZCArICcgOiAnICArIHRoaXMuZHJwdmFyW2ldLnZhbHVlZCk7XHJcbiAgICAgICAgICAgdGhpcy5kcnBzZWFyY2hmcmVlbGFuY2Vyc2RldGFpbHMucHVzaCh7bGFiZWw6dGhpcy5kcnB2YXJbaV0ubGFiZWxkICwgdmFsdWU6dGhpcy5kcnB2YXJbaV0udmFsdWVkfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGFsZXJ0KEpTT04uc3RyaW5naWZ5KHRoaXMuZHJwc2VhcmNoZnJlZWxhbmNlcnNkZXRhaWxzKSk7XHJcblxyXG4gIH1cclxuXHJcbiAgLy9Ecm9wZG93biBjaGFuZ2UgZXZlbnQgY2FwdHVyZVxyXG4gIGRycGNoYW5nZShldmVudHMxOiBhbnkpe1xyXG4gICAgLy8gYWxlcnQoZXZlbnRzMS52YWx1ZSk7XHJcbiAgfVxyXG5cclxuICAvL0p1c3QgYSBtZXRob2QgdG8gY2FsbCB1c2VyIGZvcm0gZGF0YSBvbiBmb3JtIHN1Ym1pdFxyXG4gIGdldCBkaWFnbm9zdGljKCkgeyByZXR1cm4gSlNPTi5zdHJpbmdpZnkodGhpcy51c2VyZm9ybS52YWx1ZSk7IH1cclxuXHJcbiB9XHJcbiJdfQ==

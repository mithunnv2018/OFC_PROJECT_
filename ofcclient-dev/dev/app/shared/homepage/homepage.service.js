"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var core_1 = require('@angular/core');
var http_1 = require('@angular/http');
var Observable_1 = require('rxjs/Observable');
var baseurl_service_1 = require('../baseurl/baseurl.service');
var HomePageService = (function () {
    function HomePageService(http, baseUrlservice) {
        this.http = http;
        this.baseUrlservice = baseUrlservice;
        this.baseUrl = baseUrlservice.getBaseurl();
        this.baseUrlTestimonial = baseUrlservice.getBaseurl() + 'testimonial/';
        this.baseUrlPlan = baseUrlservice.getBaseurl() + 'plan/';
        this.baseUrlPopularSearch = baseUrlservice.getBaseurl() + 'popularsearch/';
        this.baseUrlPopularServices = baseUrlservice.getBaseurl() + 'homepage/';
    }
    HomePageService.prototype.get = function () {
        return this.http.get('/assets/data.json')
            .map(function (res) { return res.json(); })
            .catch(this.handleError);
    };
    HomePageService.prototype.insert = function (inparam, fileUpload) {
        var headers1 = new http_1.Headers();
        headers1.append('Content-Type', 'application/x-www-form-urlencoded');
        var body1 = "input=" + JSON.stringify(inparam) + "&fileupload=" + JSON.stringify(fileUpload);
        var url2 = this.baseUrl + "WS_tbl_homepage_master_create";
        var complaints1$ = this.http
            .post(url2, body1, { headers: headers1 })
            .map(function (res) { return res.json(); })
            .catch(this.handleError);
        return complaints1$;
    };
    HomePageService.prototype.update = function (inparam, fileUpload) {
        var headers1 = new http_1.Headers();
        headers1.append('Content-Type', 'application/x-www-form-urlencoded');
        var body1 = "input=" + JSON.stringify(inparam) + "&fileupload=" + JSON.stringify(fileUpload);
        var url2 = this.baseUrl + "WS_tbl_homepage_master_update";
        var complaints1$ = this.http
            .post(url2, body1, { headers: headers1 })
            .map(function (res) { return res.json(); })
            .catch(this.handleError);
        return complaints1$;
    };
    HomePageService.prototype.getselectAllfileHomePage = function (pkid) {
        var headers1 = new http_1.Headers();
        headers1.append('Content-Type', 'application/x-www-form-urlencoded');
        var body1 = "input=" + pkid;
        var url2 = this.baseUrl + "selectAllfileuploadHomePage";
        var complaints1$ = this.http
            .post(url2, body1, { headers: headers1 })
            .map(function (res) { return res.json(); })
            .catch(this.handleError);
        return complaints1$;
    };
    HomePageService.prototype.getselectAllfileuploadMilestone = function (pkid) {
        var headers1 = new http_1.Headers();
        headers1.append('Content-Type', 'application/x-www-form-urlencoded');
        var body1 = "input=" + pkid;
        var url2 = this.baseUrl + "selectAllfileuploadMilestone";
        var complaints1$ = this.http
            .post(url2, body1, { headers: headers1 })
            .map(function (res) { return res.json(); })
            .catch(this.handleError);
        return complaints1$;
    };
    HomePageService.prototype.getedit = function (pkid) {
        var headers1 = new http_1.Headers();
        headers1.append('Content-Type', 'application/x-www-form-urlencoded');
        var body1 = "input=" + pkid;
        var url2 = this.baseUrl + "WS_tbl_homepage_master_selectedit";
        var complaints1$ = this.http
            .post(url2, body1, { headers: headers1 })
            .map(function (res) { return res.json(); })
            .catch(this.handleError);
        return complaints1$;
    };
    HomePageService.prototype.getPopularServicesFileUpload = function () {
        var headers1 = new http_1.Headers();
        headers1.append('Content-Type', 'application/x-www-form-urlencoded');
        var body1 = "input0=abc";
        var url2 = this.baseUrlPopularServices + "WS_proc_tbl_popularservices_homepage_get_fileupload";
        var complaints1$ = this.http
            .post(url2, body1, { headers: headers1 })
            .map(function (res) { return res.json(); })
            .catch(this.handleError);
        return complaints1$;
    };
    HomePageService.prototype.getPopularSearch = function () {
        var headers1 = new http_1.Headers();
        headers1.append('Content-Type', 'application/x-www-form-urlencoded');
        var body1 = "input0=abc";
        var url2 = this.baseUrlPopularServices + "WS_proc_vw_popuplarsearch_homepage_filesimages_selectjson";
        var complaints1$ = this.http
            .post(url2, body1, { headers: headers1 })
            .map(function (res) { return res.json(); })
            .catch(this.handleError);
        return complaints1$;
    };
    HomePageService.prototype.getTestimonial = function () {
        var headers1 = new http_1.Headers();
        headers1.append('Content-Type', 'application/x-www-form-urlencoded');
        var body1 = "input0=abc";
        var url2 = this.baseUrlTestimonial + "WS_tbl_testimonial_master_selectjson";
        var complaints1$ = this.http
            .post(url2, body1, { headers: headers1 })
            .map(function (res) { return res.json(); })
            .catch(this.handleError);
        return complaints1$;
    };
    HomePageService.prototype.getPriceNLevel = function () {
        var headers1 = new http_1.Headers();
        headers1.append('Content-Type', 'application/x-www-form-urlencoded');
        var body1 = "input0=abc";
        var url2 = this.baseUrlPlan + "WS_tbl_plan_master_selectjson";
        var complaints1$ = this.http
            .post(url2, body1, { headers: headers1 })
            .map(function (res) { return res.json(); })
            .catch(this.handleError);
        return complaints1$;
    };
    HomePageService.prototype.getall = function () {
        var headers1 = new http_1.Headers();
        headers1.append('Content-Type', 'application/x-www-form-urlencoded');
        var body1 = "input=abc";
        var url2 = this.baseUrl + "WS_tbl_homepage_master_selectall";
        var complaints1$ = this.http
            .post(url2, body1, { headers: headers1 })
            .map(function (res) { return res.json(); })
            .catch(this.handleError);
        return complaints1$;
    };
    HomePageService.prototype.getHeaders = function () {
        var headers = new http_1.Headers();
        headers.append('Accept', 'application/json');
        return headers;
    };
    HomePageService.prototype.getHeaders2 = function () {
        var headers = new http_1.Headers({ 'Content-Type': 'application/json; charset=utf-8' });
        var options = new http_1.RequestOptions({ headers: headers });
        return options;
    };
    HomePageService.prototype.getHeadersUrlencode = function () {
        var headers = new http_1.Headers({ 'Content-Type': 'application/x-www-form-urlencoded' });
        var options = new http_1.RequestOptions({ headers: headers });
        return options;
    };
    HomePageService.prototype.getHeadersUrlencodeUtf8 = function () {
        var headers = new http_1.Headers({ 'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8' });
        var options = new http_1.RequestOptions({ headers: headers });
        return options;
    };
    HomePageService.prototype.handleError = function (error) {
        var errMsg = (error.message) ? error.message :
            error.status ? error.status + " - " + error.statusText : 'Server error';
        console.error(errMsg);
        return Observable_1.Observable.throw(errMsg);
    };
    HomePageService = __decorate([
        core_1.Injectable(), 
        __metadata('design:paramtypes', [http_1.Http, baseurl_service_1.BaseUrlService])
    ], HomePageService);
    return HomePageService;
}());
exports.HomePageService = HomePageService;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9zaGFyZWQvaG9tZXBhZ2UvaG9tZXBhZ2Uuc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEscUJBQTJCLGVBQWUsQ0FBQyxDQUFBO0FBQzNDLHFCQUF3RCxlQUFlLENBQUMsQ0FBQTtBQUN4RSwyQkFBMkIsaUJBQWlCLENBQUMsQ0FBQTtBQUk3QyxnQ0FBNkIsNEJBQTRCLENBQUMsQ0FBQTtBQWMxRDtJQWdCRSx5QkFBb0IsSUFBVyxFQUFTLGNBQTZCO1FBQWpELFNBQUksR0FBSixJQUFJLENBQU87UUFBUyxtQkFBYyxHQUFkLGNBQWMsQ0FBZTtRQUNuRSxJQUFJLENBQUMsT0FBTyxHQUFDLGNBQWMsQ0FBQyxVQUFVLEVBQUUsQ0FBQztRQUN6QyxJQUFJLENBQUMsa0JBQWtCLEdBQUMsY0FBYyxDQUFDLFVBQVUsRUFBRSxHQUFDLGNBQWMsQ0FBQztRQUNuRSxJQUFJLENBQUMsV0FBVyxHQUFDLGNBQWMsQ0FBQyxVQUFVLEVBQUUsR0FBQyxPQUFPLENBQUM7UUFDckQsSUFBSSxDQUFDLG9CQUFvQixHQUFDLGNBQWMsQ0FBQyxVQUFVLEVBQUUsR0FBQyxnQkFBZ0IsQ0FBQztRQUV2RSxJQUFJLENBQUMsc0JBQXNCLEdBQUMsY0FBYyxDQUFDLFVBQVUsRUFBRSxHQUFDLFdBQVcsQ0FBQztJQUN4RSxDQUFDO0lBS0MsNkJBQUcsR0FBSDtRQUNFLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsQ0FBQzthQUN4QixHQUFHLENBQUMsVUFBQyxHQUFhLElBQUssT0FBQSxHQUFHLENBQUMsSUFBSSxFQUFFLEVBQVYsQ0FBVSxDQUFDO2FBRWxDLEtBQUssQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7SUFDM0MsQ0FBQztJQUdELGdDQUFNLEdBQU4sVUFBTyxPQUFpQixFQUFDLFVBQXVCO1FBRTlDLElBQUksUUFBUSxHQUFHLElBQUksY0FBTyxFQUFFLENBQUM7UUFDN0IsUUFB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QU0sR0FBTSxLQUFLLENBQUMsTUFBTSxXQUFNLEtBQUssQ0FBQyxVQUFZLEdBQUcsY0FBYyxDQUFDO1FBQzFFLE9BQU8sQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDdEIsTUFBTSxDQUFDLHVCQUFVLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ2xDLENBQUM7SUFsVEg7UUFBQyxpQkFBVSxFQUFFOzt1QkFBQTtJQW1UYixzQkFBQztBQUFELENBbFRBLEFBa1RDLElBQUE7QUFsVFksdUJBQWUsa0JBa1QzQixDQUFBIiwiZmlsZSI6ImFwcC9zaGFyZWQvaG9tZXBhZ2UvaG9tZXBhZ2Uuc2VydmljZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgSHR0cCwgUmVzcG9uc2UsIEhlYWRlcnMsIFJlcXVlc3RPcHRpb25zIH0gZnJvbSAnQGFuZ3VsYXIvaHR0cCc7XHJcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICdyeGpzL09ic2VydmFibGUnO1xyXG5pbXBvcnQgeyBIb21lUGFnZSB9IGZyb20gJy4uLy4uL2hvbWVwYWdlL2hvbWVwYWdlJztcclxuaW1wb3J0IHsgRmlsZVVwbG9hZCB9IGZyb20gJy4uLy4uL2hvbWVwYWdlL2ZpbGV1cGxvYWQnO1xyXG5cclxuaW1wb3J0IHtCYXNlVXJsU2VydmljZX0gZnJvbSAnLi4vYmFzZXVybC9iYXNldXJsLnNlcnZpY2UnO1xyXG5pbXBvcnQge1Rlc3RpbW9uaWFsfSBmcm9tICcuLi8uLi9ob21lcGFnZS90ZXN0aW1vbmlhbCc7XHJcbmltcG9ydCB7UGxhbn0gZnJvbSAnLi4vLi4vaG9tZXBhZ2UvcGxhbic7XHJcbmltcG9ydCB7UG9wdWxhclNlYXJjaEhvbWVwYWdlfSBmcm9tICcuLi8uLi9ob21lcGFnZS9wb3B1bGFyc2VhcmNoaG9tZXBhZ2UnO1xyXG5cclxuLy9hcyBkb25lIG9uIDMwIGphbiAyMDE3IGJ5IE1hbmRhciBmb3IgcG9wdWxhciBzZXJ2aWNlIHBvcHVsYXRlXHJcbmltcG9ydCB7UG9wdWxhclNlcnZpY2VIb21lcGFnZX0gZnJvbSAnLi4vLi4vaG9tZXBhZ2UvcG9wdWxhcnNlcnZpY2VzaG9tZXBhZ2UnO1xyXG5cclxuLy8gaW1wb3J0ICdyeGpzL2FkZC9vcGVyYXRvci9kbyc7ICAvLyBmb3IgZGVidWdnaW5nXHJcblxyXG4vKipcclxuICogVGhpcyBjbGFzcyBwcm92aWRlcyB0aGUgTmFtZUxpc3Qgc2VydmljZSB3aXRoIG1ldGhvZHMgdG8gcmVhZCBuYW1lcyBhbmQgYWRkIG5hbWVzLlxyXG4gKi9cclxuQEluamVjdGFibGUoKVxyXG5leHBvcnQgY2xhc3MgSG9tZVBhZ2VTZXJ2aWNlIHtcclxuXHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlcyBhIG5ldyBOYW1lTGlzdFNlcnZpY2Ugd2l0aCB0aGUgaW5qZWN0ZWQgSHR0cC5cclxuICAgKiBAcGFyYW0ge0h0dHB9IGh0dHAgLSBUaGUgaW5qZWN0ZWQgSHR0cC5cclxuICAgKiBAY29uc3RydWN0b3JcclxuICAgKi9cclxuICAvL3ByaXZhdGUgYmFzZVVybDogc3RyaW5nID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9UYXNrTWFuYWdlcldTL3Jlc3QvYXR1bHRlc3QvJztcclxuICBwcml2YXRlIGJhc2VVcmw6IHN0cmluZyA7Ly89ICdodHRwOi8vbG9jYWxob3N0OjgwODAvVGFza01hbmFnZXJXUy9yZXN0L3Rhc2ttYW5hZ2VyLyc7XHJcbiAgcHJpdmF0ZSBiYXNlVXJsVGVzdGltb25pYWw6c3RyaW5nO1xyXG4gIHByaXZhdGUgYmFzZVVybFBsYW46c3RyaW5nO1xyXG4gIHByaXZhdGUgYmFzZVVybFBvcHVsYXJTZWFyY2g6c3RyaW5nO1xyXG4gIC8vYXMgZG9uZSBvbiAzMCBqYW4gMjAxNyBieSBNYW5kYXIgZm9yIHBvcHVsYXRlIHNlcnZpY2VcclxuICBwcml2YXRlIGJhc2VVcmxQb3B1bGFyU2VydmljZXM6c3RyaW5nO1xyXG5cclxuXHJcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBodHRwIDogSHR0cCxwcml2YXRlIGJhc2VVcmxzZXJ2aWNlOkJhc2VVcmxTZXJ2aWNlKXtcclxuICAgIHRoaXMuYmFzZVVybD1iYXNlVXJsc2VydmljZS5nZXRCYXNldXJsKCk7XHJcbiAgICB0aGlzLmJhc2VVcmxUZXN0aW1vbmlhbD1iYXNlVXJsc2VydmljZS5nZXRCYXNldXJsKCkrJ3Rlc3RpbW9uaWFsLyc7XHJcbiAgICB0aGlzLmJhc2VVcmxQbGFuPWJhc2VVcmxzZXJ2aWNlLmdldEJhc2V1cmwoKSsncGxhbi8nO1xyXG4gICAgdGhpcy5iYXNlVXJsUG9wdWxhclNlYXJjaD1iYXNlVXJsc2VydmljZS5nZXRCYXNldXJsKCkrJ3BvcHVsYXJzZWFyY2gvJztcclxuICAgIC8vYXMgZG9uZSBvbiAzMCBqYW4gMjAxNyBieSBNYW5kYXIgZm9yIHBvcHVsYXRlIHNlcnZpY2VcclxuICAgIHRoaXMuYmFzZVVybFBvcHVsYXJTZXJ2aWNlcz1iYXNlVXJsc2VydmljZS5nZXRCYXNldXJsKCkrJ2hvbWVwYWdlLyc7XHJcbn1cclxuICAvKipcclxuICAgKiBSZXR1cm5zIGFuIE9ic2VydmFibGUgZm9yIHRoZSBIVFRQIEdFVCByZXF1ZXN0IGZvciB0aGUgSlNPTiByZXNvdXJjZS5cclxuICAgKiBAcmV0dXJuIHtzdHJpbmdbXX0gVGhlIE9ic2VydmFibGUgZm9yIHRoZSBIVFRQIHJlcXVlc3QuXHJcbiAgICovXHJcbiAgZ2V0KCk6IE9ic2VydmFibGU8c3RyaW5nW10+IHtcclxuICAgIHJldHVybiB0aGlzLmh0dHAuZ2V0KCcvYXNzZXRzL2RhdGEuanNvbicpXHJcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgocmVzOiBSZXNwb25zZSkgPT4gcmVzLmpzb24oKSlcclxuICAgIC8vICAgICAgICAgICAgICAuZG8oZGF0YSA9PiBjb25zb2xlLmxvZygnc2VydmVyIGRhdGE6JywgZGF0YSkpICAvLyBkZWJ1Z1xyXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaCh0aGlzLmhhbmRsZUVycm9yKTtcclxuICB9XHJcblxyXG5cclxuICBpbnNlcnQoaW5wYXJhbTogSG9tZVBhZ2UsZmlsZVVwbG9hZDpGaWxlVXBsb2FkW10pOiBPYnNlcnZhYmxlPEhvbWVQYWdlW10+e1xyXG4gICAgLy9IZWFkZXIgZGVjbGFyYXRpb25cclxuICAgIGxldCBoZWFkZXJzMSA9IG5ldyBIZWFkZXJzKCk7XHJcbiAgICBoZWFkZXJzMS5hcHBlbmQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnKTtcclxuICAgIC8vQm9keSBwYXJhbXNcclxuICAgIHZhciBib2R5MSA9IGBpbnB1dD0ke0pTT04uc3RyaW5naWZ5KCBpbnBhcmFtKX0mZmlsZXVwbG9hZD0ke0pTT04uc3RyaW5naWZ5KCBmaWxlVXBsb2FkKX1gO1xyXG4gICAgLy8gVVJMIGRlY2xhcmF0aW9uXHJcbiAgICB2YXIgdXJsMiA9IGAke3RoaXMuYmFzZVVybH1XU190YmxfaG9tZXBhZ2VfbWFzdGVyX2NyZWF0ZWA7Ly9pbnNlcnRNaWxlc3RvbmVzSG9tZVBhZ2VgO1xyXG4gICAgXHJcbiAgICBsZXQgY29tcGxhaW50czEkID0gdGhpcy5odHRwXHJcbiAgICAgIC5wb3N0KHVybDIgLCBib2R5MSAse2hlYWRlcnM6IGhlYWRlcnMxfSkgLy8gUG9zdCBVUkwgYW5kIGhlYWRlclxyXG4gICAgICAubWFwKChyZXM6UmVzcG9uc2UpID0+IHJlcy5qc29uKCkpIC8vIE1hcHBpbmcgcmVzcG9uc2UgdG8gcmV0dXJuIHZhcmlhYmxlXHJcbiAgICAgIC5jYXRjaCh0aGlzLmhhbmRsZUVycm9yKTsgLy8gRXJyb3IgaGFuZGxlclxyXG4gICAgICAvL2FsZXJ0KFwiZ2V0RGlzcGxheUFsbDIgYWZ0ZXJcIik7XHJcbiAgICAgIHJldHVybiBjb21wbGFpbnRzMSQ7XHJcbiAgfVxyXG5cclxuICAvLyBVcGRhdGUgb2xkIGVudHJ5XHJcbiAgdXBkYXRlKGlucGFyYW06IEhvbWVQYWdlLGZpbGVVcGxvYWQ6RmlsZVVwbG9hZFtdKTogT2JzZXJ2YWJsZTxIb21lUGFnZVtdPntcclxuICAgIFxyXG4gICAgIC8vSGVhZGVyIGRlY2xhcmF0aW9uXHJcbiAgICBsZXQgaGVhZGVyczEgPSBuZXcgSGVhZGVycygpO1xyXG4gICAgaGVhZGVyczEuYXBwZW5kKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyk7XHJcbiAgICAvL0JvZHkgcGFyYW1zXHJcbiAgICB2YXIgYm9keTEgPSBgaW5wdXQ9JHtKU09OLnN0cmluZ2lmeSggaW5wYXJhbSl9JmZpbGV1cGxvYWQ9JHtKU09OLnN0cmluZ2lmeSggZmlsZVVwbG9hZCl9YDtcclxuICAgIC8vIFVSTCBkZWNsYXJhdGlvblxyXG4gICAgdmFyIHVybDIgPSBgJHt0aGlzLmJhc2VVcmx9V1NfdGJsX2hvbWVwYWdlX21hc3Rlcl91cGRhdGVgOy8vaW5zZXJ0TWlsZXN0b25lc0hvbWVQYWdlYDtcclxuICAgIFxyXG4gICAgLy9DYWxsIFdTXHJcbiAgICBsZXQgY29tcGxhaW50czEkID0gdGhpcy5odHRwXHJcbiAgICAgIC5wb3N0KHVybDIgLCBib2R5MSAse2hlYWRlcnM6IGhlYWRlcnMxfSkgLy8gUG9zdCBVUkwgYW5kIGhlYWRlclxyXG4gICAgICAubWFwKChyZXM6UmVzcG9uc2UpID0+IHJlcy5qc29uKCkpIC8vIE1hcHBpbmcgcmVzcG9uc2UgdG8gcmV0dXJuIHZhcmlhYmxlXHJcbiAgICAgIC5jYXRjaCh0aGlzLmhhbmRsZUVycm9yKTsgLy8gRXJyb3IgaGFuZGxlclxyXG4gICAgICAvL2FsZXJ0KFwiZ2V0RGlzcGxheUFsbDIgYWZ0ZXJcIik7XHJcbiAgICAgIHJldHVybiBjb21wbGFpbnRzMSQ7IFxyXG4gIH1cclxuXHJcbi8vIG9uIEVkaXQgZ2V0IGZpbGVzIHVwbG9hZFxyXG4gIGdldHNlbGVjdEFsbGZpbGVIb21lUGFnZShwa2lkOiBzdHJpbmcpOiBPYnNlcnZhYmxlPEZpbGVVcGxvYWRbXT57XHJcbiAgICBcclxuICAgIGxldCBoZWFkZXJzMSA9IG5ldyBIZWFkZXJzKCk7XHJcbiAgICBoZWFkZXJzMS5hcHBlbmQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnKTtcclxuICAgIFxyXG4gICAgdmFyIGJvZHkxID0gYGlucHV0PSR7IHBraWR9YDtcclxuICAgIFxyXG4gICAgdmFyIHVybDIgPSBgJHt0aGlzLmJhc2VVcmx9c2VsZWN0QWxsZmlsZXVwbG9hZEhvbWVQYWdlYDtcclxuICAgIFxyXG4gICAgbGV0IGNvbXBsYWludHMxJCA9IHRoaXMuaHR0cFxyXG4gICAgICAucG9zdCh1cmwyICwgYm9keTEgLHtoZWFkZXJzOiBoZWFkZXJzMX0pXHJcbiAgICAgIC5tYXAoKHJlczpSZXNwb25zZSkgPT4gcmVzLmpzb24oKSlcclxuICAgICAgLmNhdGNoKHRoaXMuaGFuZGxlRXJyb3IpO1xyXG4gICAgICAvL2FsZXJ0KFwiZ2V0RGlzcGxheUFsbDIgYWZ0ZXJcIik7XHJcbiAgICAgIHJldHVybiBjb21wbGFpbnRzMSQ7IFxyXG4gIH1cclxuICBcclxuXHJcbiAgLy8gb24gRWRpdCBnZXQgZmlsZXMgdXBsb2FkXHJcbiAgZ2V0c2VsZWN0QWxsZmlsZXVwbG9hZE1pbGVzdG9uZShwa2lkOiBzdHJpbmcpOiBPYnNlcnZhYmxlPEZpbGVVcGxvYWRbXT57XHJcbiAgICBcclxuICAgIGxldCBoZWFkZXJzMSA9IG5ldyBIZWFkZXJzKCk7XHJcbiAgICBoZWFkZXJzMS5hcHBlbmQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnKTtcclxuICAgIFxyXG4gICAgdmFyIGJvZHkxID0gYGlucHV0PSR7IHBraWR9YDtcclxuICAgIFxyXG4gICAgdmFyIHVybDIgPSBgJHt0aGlzLmJhc2VVcmx9c2VsZWN0QWxsZmlsZXVwbG9hZE1pbGVzdG9uZWA7XHJcbiAgICBcclxuICAgIGxldCBjb21wbGFpbnRzMSQgPSB0aGlzLmh0dHBcclxuICAgICAgLnBvc3QodXJsMiAsIGJvZHkxICx7aGVhZGVyczogaGVhZGVyczF9KVxyXG4gICAgICAubWFwKChyZXM6UmVzcG9uc2UpID0+IHJlcy5qc29uKCkpXHJcbiAgICAgIC5jYXRjaCh0aGlzLmhhbmRsZUVycm9yKTtcclxuICAgICAgLy9hbGVydChcImdldERpc3BsYXlBbGwyIGFmdGVyXCIpO1xyXG4gICAgICByZXR1cm4gY29tcGxhaW50czEkOyBcclxuICB9XHJcblxyXG4gIC8vIE9uIEVkaXQgZ2V0IGRhdGFcclxuICBnZXRlZGl0KHBraWQ6IHN0cmluZyk6IE9ic2VydmFibGU8SG9tZVBhZ2U+e1xyXG4gICBcclxuICAgIGxldCBoZWFkZXJzMSA9IG5ldyBIZWFkZXJzKCk7XHJcbiAgICBoZWFkZXJzMS5hcHBlbmQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnKTtcclxuICAgXHJcbiAgICB2YXIgYm9keTEgPSBgaW5wdXQ9JHsgcGtpZH1gO1xyXG4gICBcclxuICAgIHZhciB1cmwyID0gYCR7dGhpcy5iYXNlVXJsfVdTX3RibF9ob21lcGFnZV9tYXN0ZXJfc2VsZWN0ZWRpdGA7Ly9zZWxlY3RFZGl0TWlsZXN0b25lYDtcclxuICAgIFxyXG4gICAgbGV0IGNvbXBsYWludHMxJCA9IHRoaXMuaHR0cFxyXG4gICAgICAucG9zdCh1cmwyICwgYm9keTEgLHtoZWFkZXJzOiBoZWFkZXJzMX0pXHJcbiAgICAgIC5tYXAoKHJlczpSZXNwb25zZSkgPT4gcmVzLmpzb24oKSlcclxuICAgICAgLmNhdGNoKHRoaXMuaGFuZGxlRXJyb3IpO1xyXG4gICAgICAvL2FsZXJ0KFwiZ2V0RGlzcGxheUFsbDIgYWZ0ZXJcIik7XHJcbiAgICAgIHJldHVybiBjb21wbGFpbnRzMSQ7IFxyXG4gIH1cclxuICBcclxuICBcclxuICAvL2FzIGRvbmUgb24gMzAgamFuIDIwMTcgYnkgTWFuZGFyIGZvciBwb3B1bGFyIHNlcnZpY2UgcG9wdWxhdGVcclxuICAvLyBnZXQgYWxsIGZvciBHcmlkIGZvciBQb3B1bGFyIFNlcnZpY2VzXHJcbiAgZ2V0UG9wdWxhclNlcnZpY2VzRmlsZVVwbG9hZCgpOiBPYnNlcnZhYmxlPFBvcHVsYXJTZXJ2aWNlSG9tZXBhZ2VbXT57XHJcbiAgICBcclxuICAgIGxldCBoZWFkZXJzMSA9IG5ldyBIZWFkZXJzKCk7XHJcbiAgICBoZWFkZXJzMS5hcHBlbmQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnKTtcclxuICAgIFxyXG4gICAgdmFyIGJvZHkxID0gYGlucHV0MD1hYmNgO1xyXG4gICAgXHJcbiAgICB2YXIgdXJsMiA9IGAke3RoaXMuYmFzZVVybFBvcHVsYXJTZXJ2aWNlc31XU19wcm9jX3RibF9wb3B1bGFyc2VydmljZXNfaG9tZXBhZ2VfZ2V0X2ZpbGV1cGxvYWRgOy8vc2VsZWN0QWxsTWlsZXN0b25lYDtcclxuICAgIFxyXG4gICAgbGV0IGNvbXBsYWludHMxJCA9IHRoaXMuaHR0cFxyXG4gICAgICAucG9zdCh1cmwyICwgYm9keTEgLHtoZWFkZXJzOiBoZWFkZXJzMX0pXHJcbiAgICAgIC5tYXAoKHJlczpSZXNwb25zZSkgPT4gcmVzLmpzb24oKSlcclxuICAgICAgLmNhdGNoKHRoaXMuaGFuZGxlRXJyb3IpO1xyXG4gICAgICAvL2FsZXJ0KFwiZ2V0RGlzcGxheUFsbDIgYWZ0ZXJcIik7XHJcbiAgICAgIHJldHVybiBjb21wbGFpbnRzMSQ7IFxyXG4gIH1cclxuXHJcblxyXG5cclxuIC8vIGdldCBhbGwgZm9yIEdyaWQgZm9yIFBvcHVsYXIgU2VhcmNoXHJcbiAgZ2V0UG9wdWxhclNlYXJjaCgpOiBPYnNlcnZhYmxlPFBvcHVsYXJTZWFyY2hIb21lcGFnZVtdPntcclxuICAgIFxyXG4gICAgbGV0IGhlYWRlcnMxID0gbmV3IEhlYWRlcnMoKTtcclxuICAgIGhlYWRlcnMxLmFwcGVuZCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcpO1xyXG4gICAgXHJcbiAgICB2YXIgYm9keTEgPSBgaW5wdXQwPWFiY2A7XHJcbiAgICBcclxuICAgIHZhciB1cmwyID0gYCR7dGhpcy5iYXNlVXJsUG9wdWxhclNlcnZpY2VzfVdTX3Byb2NfdndfcG9wdXBsYXJzZWFyY2hfaG9tZXBhZ2VfZmlsZXNpbWFnZXNfc2VsZWN0anNvbmA7Ly9zZWxlY3RBbGxNaWxlc3RvbmVgO1xyXG4gICAgXHJcbiAgICBsZXQgY29tcGxhaW50czEkID0gdGhpcy5odHRwXHJcbiAgICAgIC5wb3N0KHVybDIgLCBib2R5MSAse2hlYWRlcnM6IGhlYWRlcnMxfSlcclxuICAgICAgLm1hcCgocmVzOlJlc3BvbnNlKSA9PiByZXMuanNvbigpKVxyXG4gICAgICAuY2F0Y2godGhpcy5oYW5kbGVFcnJvcik7XHJcbiAgICAgIC8vYWxlcnQoXCJnZXREaXNwbGF5QWxsMiBhZnRlclwiKTtcclxuICAgICAgcmV0dXJuIGNvbXBsYWludHMxJDtcclxuICB9XHJcblxyXG4gIC8vIGdldCBhbGwgZm9yIEdyaWQgZm9yIFRlc3RpbW9uaWFsXHJcbiAgZ2V0VGVzdGltb25pYWwoKTogT2JzZXJ2YWJsZTxUZXN0aW1vbmlhbFtdPntcclxuICAgIFxyXG4gICAgbGV0IGhlYWRlcnMxID0gbmV3IEhlYWRlcnMoKTtcclxuICAgIGhlYWRlcnMxLmFwcGVuZCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcpO1xyXG4gICAgXHJcbiAgICB2YXIgYm9keTEgPSBgaW5wdXQwPWFiY2A7XHJcbiAgICBcclxuICAgIHZhciB1cmwyID0gYCR7dGhpcy5iYXNlVXJsVGVzdGltb25pYWx9V1NfdGJsX3Rlc3RpbW9uaWFsX21hc3Rlcl9zZWxlY3Rqc29uYDsvL3NlbGVjdEFsbE1pbGVzdG9uZWA7XHJcbiAgICBcclxuICAgIGxldCBjb21wbGFpbnRzMSQgPSB0aGlzLmh0dHBcclxuICAgICAgLnBvc3QodXJsMiAsIGJvZHkxICx7aGVhZGVyczogaGVhZGVyczF9KVxyXG4gICAgICAubWFwKChyZXM6UmVzcG9uc2UpID0+IHJlcy5qc29uKCkpXHJcbiAgICAgIC5jYXRjaCh0aGlzLmhhbmRsZUVycm9yKTtcclxuICAgICAgLy9hbGVydChcImdldERpc3BsYXlBbGwyIGFmdGVyXCIpO1xyXG4gICAgICByZXR1cm4gY29tcGxhaW50czEkOyBcclxuICB9XHJcblxyXG4gIC8vIGdldCBhbGwgZm9yIEdyaWQgZm9yIFRlc3RpbW9uaWFsXHJcbiAgZ2V0UHJpY2VOTGV2ZWwoKTogT2JzZXJ2YWJsZTxQbGFuW10+e1xyXG4gICAgXHJcbiAgICBsZXQgaGVhZGVyczEgPSBuZXcgSGVhZGVycygpO1xyXG4gICAgaGVhZGVyczEuYXBwZW5kKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyk7XHJcbiAgICBcclxuICAgIHZhciBib2R5MSA9IGBpbnB1dDA9YWJjYDtcclxuICAgIFxyXG4gICAgdmFyIHVybDIgPSBgJHt0aGlzLmJhc2VVcmxQbGFufVdTX3RibF9wbGFuX21hc3Rlcl9zZWxlY3Rqc29uYDsvL3NlbGVjdEFsbE1pbGVzdG9uZWA7XHJcbiAgICBcclxuICAgIGxldCBjb21wbGFpbnRzMSQgPSB0aGlzLmh0dHBcclxuICAgICAgLnBvc3QodXJsMiAsIGJvZHkxICx7aGVhZGVyczogaGVhZGVyczF9KVxyXG4gICAgICAubWFwKChyZXM6UmVzcG9uc2UpID0+IHJlcy5qc29uKCkpXHJcbiAgICAgIC5jYXRjaCh0aGlzLmhhbmRsZUVycm9yKTtcclxuICAgICAgLy9hbGVydChcImdldERpc3BsYXlBbGwyIGFmdGVyXCIpO1xyXG4gICAgICByZXR1cm4gY29tcGxhaW50czEkOyBcclxuICB9XHJcblxyXG4gIC8vIGdldCBhbGwgZm9yIEdyaWRcclxuICBnZXRhbGwoKTogT2JzZXJ2YWJsZTxIb21lUGFnZVtdPntcclxuICAgIFxyXG4gICAgbGV0IGhlYWRlcnMxID0gbmV3IEhlYWRlcnMoKTtcclxuICAgIGhlYWRlcnMxLmFwcGVuZCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcpO1xyXG4gICAgXHJcbiAgICB2YXIgYm9keTEgPSBgaW5wdXQ9YWJjYDtcclxuICAgIFxyXG4gICAgdmFyIHVybDIgPSBgJHt0aGlzLmJhc2VVcmx9V1NfdGJsX2hvbWVwYWdlX21hc3Rlcl9zZWxlY3RhbGxgOy8vc2VsZWN0QWxsTWlsZXN0b25lYDtcclxuICAgIFxyXG4gICAgbGV0IGNvbXBsYWludHMxJCA9IHRoaXMuaHR0cFxyXG4gICAgICAucG9zdCh1cmwyICwgYm9keTEgLHtoZWFkZXJzOiBoZWFkZXJzMX0pXHJcbiAgICAgIC5tYXAoKHJlczpSZXNwb25zZSkgPT4gcmVzLmpzb24oKSlcclxuICAgICAgLmNhdGNoKHRoaXMuaGFuZGxlRXJyb3IpO1xyXG4gICAgICAvL2FsZXJ0KFwiZ2V0RGlzcGxheUFsbDIgYWZ0ZXJcIik7XHJcbiAgICAgIHJldHVybiBjb21wbGFpbnRzMSQ7IFxyXG4gIH1cclxuXHJcbiAgLy8gc3VibWl0VXBsb2FkQW5kT3RoZXJzKHVwbG9hZGVkRmlsZXM6IGFueVtdKTpPYnNlcnZhYmxlPGFueT57XHJcbiAgLy8gICBsZXQgaGVhZGVyczEgPSBuZXcgSGVhZGVycygpO1xyXG4gIC8vICAgaGVhZGVyczEuYXBwZW5kKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyk7XHJcbiAgLy8gICB2YXIgYm9keTEgPSBgZmlsZXVwbG9hZGFycmF5PSR7SlNPTi5zdHJpbmdpZnkoIHVwbG9hZGVkRmlsZXMpfWA7XHJcbiAgLy8gICBhbGVydChcImJvZHlcIiArIEpTT04uc3RyaW5naWZ5KHVwbG9hZGVkRmlsZXMpKVxyXG4gIC8vICAgdmFyIHVybDIgPSBgaHR0cDovL2xvY2FsaG9zdDo4MDgwL1Rhc2tNYW5hZ2VyV1MvcmVzdC9hdHVsdGVzdC9zdWJtaXRmaWxldXBsb2FkYDtcclxuICAgIFxyXG5cclxuICAvLyAgIC8vdHlwZSBNeVR5cGU9e2lzc3VjY2VzczpzdHJpbmd9O1xyXG5cclxuICAvLyAgIGxldCBteXJlc3VsdD10aGlzLmh0dHBcclxuICAvLyAgICAgLnBvc3QodXJsMixib2R5MSAgLHtoZWFkZXJzOiBoZWFkZXJzMX0pXHJcbiAgLy8gICAgIC5tYXAoKHJlczpSZXNwb25zZSkgPT4gcmVzLmpzb24oKSlcclxuICAvLyAgICAgLmNhdGNoKHRoaXMuaGFuZGxlRXJyb3IpO1xyXG4gIC8vICAgLy8gYWxlcnQoXCJoaFwiK215cmVzdWx0Lmlzc3VjY2Vzcyk7ICBcclxuICAvLyAgIGNvbnNvbGUubG9nKFwiTWl0aDpcIixteXJlc3VsdCk7XHJcbiAgLy8gICBjb25zb2xlLmxvZyhcIm1pdGgyOlwiLHVwbG9hZGVkRmlsZXMpO1xyXG4gIC8vICAgcmV0dXJuIG15cmVzdWx0OyAgXHJcbiAgLy8gfVxyXG5cclxuICBcclxuXHJcbiAgLy8gZ2V0RGlzcGxheUFsbDIoKTogT2JzZXJ2YWJsZTxNaWxlc3RvbmVbXT57XHJcbiAgLy8gICAvL2FsZXJ0KFwiZ2V0RGlzcGxheUFsbDIgYmVmb3JlXCIpO1xyXG4gIC8vICAgLy8gbGV0IGNvbXBsYWludHMxJCA9IHRoaXMuaHR0cFxyXG4gIC8vICAgLy8gICAucG9zdChgaHR0cDovL2xvY2FsaG9zdDo4MDgwL0F0dWx0ZXN0L3Jlc3QvYXR1bHRlc3Qvc2VsZWN0dGVzdG9uZT9lbnJvbGxubz1lcmAsIHtoZWFkZXJzOiB0aGlzLmdldEhlYWRlcnMyKCl9KVxyXG4gIC8vICAgLy8gICAubWFwKChyZXM6UmVzcG9uc2UpID0+IHJlcy5qc29uKCkpXHJcbiAgLy8gICAvLyAgIC5jYXRjaCh0aGlzLmhhbmRsZUVycm9yKTtcclxuICAvLyAgIC8vICAgLy9hbGVydChcImdldERpc3BsYXlBbGwyIGFmdGVyXCIpO1xyXG4gIC8vICAgLy8gICByZXR1cm4gY29tcGxhaW50czEkOyBcclxuXHJcbiAgLy8gICBsZXQgaGVhZGVyczEgPSBuZXcgSGVhZGVycygpO1xyXG4gIC8vICAgaGVhZGVyczEuYXBwZW5kKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyk7XHJcbiAgLy8gICAvL2hlYWRlcnMxLmFwcGVuZCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nICk7XHJcbiAgLy8gICAvL2hlYWRlcnMxLmFwcGVuZCgnaW5wdXQnLCBKU09OLnN0cmluZ2lmeSggaW5wYXJhbSkpO1xyXG4gIC8vICAgLy92YXIgYm9keTEgPSBgaW5wdXQ9JHtKU09OLnN0cmluZ2lmeSggaW5wYXJhbSl9YDtcclxuICAvLyAgIC8vY29uc29sZS5sb2coYm9keTEpO1xyXG4gIC8vICAgLy92YXIgdXJsMiA9IGBodHRwOi8vbG9jYWxob3N0OjgwODAvQXR1bHRlc3QvcmVzdC9hdHVsdGVzdC9pbnNlcnRUZXN0b25lP2AgKyBib2R5MTtcclxuICAvLyAgIHZhciB1cmwyID0gYGh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9UYXNrTWFuYWdlcldTL3Jlc3QvYXR1bHRlc3QvZHJwaG9tZXBhZ2VgO1xyXG4gIC8vICAgY29uc29sZS5sb2codXJsMik7XHJcbiAgLy8gICBsZXQgY29tcGxhaW50czEkID0gdGhpcy5odHRwXHJcbiAgLy8gICAgIC5wb3N0KHVybDIgICx7aGVhZGVyczogaGVhZGVyczF9KVxyXG4gIC8vICAgICAubWFwKChyZXM6UmVzcG9uc2UpID0+IHJlcy5qc29uKCkpXHJcbiAgLy8gICAgIC5jYXRjaCh0aGlzLmhhbmRsZUVycm9yKTtcclxuICAvLyAgICAgLy9hbGVydChcImdldERpc3BsYXlBbGwyIGFmdGVyXCIpO1xyXG4gIC8vICAgICByZXR1cm4gY29tcGxhaW50czEkOyBcclxuXHJcbiAgLy8gfVxyXG4gXHJcbiAgLy8gcG9wdXBsYXRlIGRyb3Bkb3duXHJcblxyXG5cclxuICAgcHJpdmF0ZSBnZXRIZWFkZXJzKCl7XHJcbiAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XHJcbiAgICBoZWFkZXJzLmFwcGVuZCgnQWNjZXB0JywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcclxuICAgIHJldHVybiBoZWFkZXJzO1xyXG4gIH1cclxuICBwcml2YXRlIGdldEhlYWRlcnMyKCl7XHJcbiAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04JyB9KTsgIFxyXG4gICAgbGV0IG9wdGlvbnMgPSBuZXcgUmVxdWVzdE9wdGlvbnMoeyBoZWFkZXJzOiBoZWFkZXJzIH0pO1xyXG4gICAgcmV0dXJuIG9wdGlvbnM7XHJcbiAgfVxyXG4gIHByaXZhdGUgZ2V0SGVhZGVyc1VybGVuY29kZSgpe1xyXG4gICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyB9KTsgIFxyXG4gICAgbGV0IG9wdGlvbnMgPSBuZXcgUmVxdWVzdE9wdGlvbnMoeyBoZWFkZXJzOiBoZWFkZXJzIH0pO1xyXG4gICAgcmV0dXJuIG9wdGlvbnM7XHJcbiAgfVxyXG4gIHByaXZhdGUgZ2V0SGVhZGVyc1VybGVuY29kZVV0ZjgoKXtcclxuICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnMoeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD11dGYtOCcgfSk7ICBcclxuICAgIGxldCBvcHRpb25zID0gbmV3IFJlcXVlc3RPcHRpb25zKHsgaGVhZGVyczogaGVhZGVycyB9KTtcclxuICAgIHJldHVybiBvcHRpb25zO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICAqIEhhbmRsZSBIVFRQIGVycm9yXHJcbiAgICAqL1xyXG4gIHByaXZhdGUgaGFuZGxlRXJyb3IgKGVycm9yOiBhbnkpIHtcclxuICAgIC8vIEluIGEgcmVhbCB3b3JsZCBhcHAsIHdlIG1pZ2h0IHVzZSBhIHJlbW90ZSBsb2dnaW5nIGluZnJhc3RydWN0dXJlXHJcbiAgICAvLyBXZSdkIGFsc28gZGlnIGRlZXBlciBpbnRvIHRoZSBlcnJvciB0byBnZXQgYSBiZXR0ZXIgbWVzc2FnZVxyXG4gICAgbGV0IGVyck1zZyA9IChlcnJvci5tZXNzYWdlKSA/IGVycm9yLm1lc3NhZ2UgOlxyXG4gICAgICBlcnJvci5zdGF0dXMgPyBgJHtlcnJvci5zdGF0dXN9IC0gJHtlcnJvci5zdGF0dXNUZXh0fWAgOiAnU2VydmVyIGVycm9yJztcclxuICAgIGNvbnNvbGUuZXJyb3IoZXJyTXNnKTsgLy8gbG9nIHRvIGNvbnNvbGUgaW5zdGVhZFxyXG4gICAgcmV0dXJuIE9ic2VydmFibGUudGhyb3coZXJyTXNnKTtcclxuICB9XHJcbn1cclxuXHJcbiJdfQ==

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var core_1 = require('@angular/core');
var forms_1 = require('@angular/forms');
var router_1 = require('@angular/router');
var first_pipe_1 = require('../shared/pipes/first.pipe');
var index_1 = require('../shared/searchfreelancers/index');
var mydateformat_pipe_1 = require('../shared/pipes/mydateformat.pipe');
var emailvalidate_pipe_1 = require('../shared/pipes/emailvalidate.pipe');
var baseurl_service_1 = require('../shared/baseurl/baseurl.service');
var index_2 = require('../shared/postajob/index');
var SearchFreeLancersComponent = (function () {
    function SearchFreeLancersComponent(fb, route, router, localService, mycur, mydate1, emailval, baseUrlservice, postajobService) {
        this.fb = fb;
        this.route = route;
        this.router = router;
        this.localService = localService;
        this.mycur = mycur;
        this.mydate1 = mydate1;
        this.emailval = emailval;
        this.baseUrlservice = baseUrlservice;
        this.postajobService = postajobService;
        this.msgs = [];
        this.drpvar = [];
        this.drpsearchfreelancers = [];
        this.uploadedFiles = [];
        this.fileuploadarr = [];
        this.freelancermembers = [];
        this.drpCountryId = [];
        this.drpLanguageId = [];
        this.selectedCountry = "";
        this.selectedLanguage = "";
        this.pricerange = [];
        this.daterange = [];
        this.selectedTypeskeyword = [];
        this.keyword = [];
        this.subcat = [];
        this.mybaseurl = baseUrlservice.getBaseurl() + "searchfreelancers/";
    }
    SearchFreeLancersComponent.prototype.clear = function () {
        this.keyword = [];
        this.subcat = [];
        this.selectedTypesubcat = null;
        this.selectedTypeskeyword = [];
        this.newsearchfreelancers = true;
        this.freelancermember = {
            "ofcmembers_id": "",
            "ofcmembers_fname": "",
            "ofcmembers_mname": "",
            "ofcmembers_lname": "",
            "ofcmembers_name": "",
            "ofcmember_type": "",
            "city_id": "",
            "ofcmembers_emailid": "",
            "ofcmembers_password": "",
            "ofcmembers_address1": "",
            "ofcmembers_address2": "",
            "ofcmembers_pincode": "",
            "ofcmembers_contactnos": "",
            "ofcmembers_availability": "",
            "ofcmembers_displayname": "",
            "ofcmembers_description": "",
            "ofcmembers_selfrating": "",
            "ofcmembers_experiencelevel": "",
            "ofcmembers_gender": "",
            "ofcmembers_dob": "",
            "ofcmembers_nosofteammembers": "",
            "status": "",
            "country_id": "",
            "country_name": "",
            "state_id": "",
            "state_name": "",
            "city_name": "",
            "skillsarr": []
        };
        this.fileupload = {
            fileName: '',
            fileType: '',
            filePath: '',
            fileStatus: '',
            uploadfile_filename: ''
        };
    };
    SearchFreeLancersComponent.prototype.onRowSelect = function (tempproj) {
        this.newsearchfreelancers = false;
        var memid = tempproj.ofcmembers_id;
        this.router.navigate(['/searchfreelancersdetails', memid]);
    };
    SearchFreeLancersComponent.prototype.aftercalldate = function () {
    };
    SearchFreeLancersComponent.prototype.onFinalFileUpload = function () {
        for (var i = 0; i < this.uploadedFiles.length; i++) {
            var filename = this.uploadedFiles[i].name;
            this.fileupload.fileName = filename;
            this.fileupload.filePath = '';
            this.fileupload.fileStatus = 'Yes';
            this.fileupload.fileType = 'img';
            this.fileupload.uploadfile_filename = '';
            this.fileuploadarr.push(this.fileupload);
        }
    };
    SearchFreeLancersComponent.prototype.onSubmit = function () {
        this.onFinalFileUpload();
        this.submitted = true;
        this.msgs = [];
        this.submitted = true;
        this.msgs = [];
        this.msgs.push({ severity: 'info', summary: 'Success', detail: 'Form Update Successfully' });
    };
    SearchFreeLancersComponent.prototype.onUpload = function (event) {
        for (var _i = 0, _a = event.files; _i < _a.length; _i++) {
            var file = _a[_i];
            this.uploadedFiles.push(file);
        }
        this.msgs = [];
        this.msgs.push({ severity: 'info', summary: 'File Uploaded', detail: '' });
    };
    SearchFreeLancersComponent.prototype.onBeforeUpload = function (event) {
        event.xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded;multipart/form-data;');
        console.log("mith here:");
    };
    SearchFreeLancersComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.clear();
        var data = sessionStorage.getItem('memberdetails');
        console.log('onsessionStorage : ' + JSON.parse(data));
        var ofcmemsession = JSON.parse(data);
        var ofcmemsession_id = ofcmemsession.ofcmemsession_id;
        console.log('ofcmemsession_id : ' + ofcmemsession_id);
        var member_id = ofcmemsession.ofcmembers_id;
        var catid = '6';
        this.postajobService.getSubCat(catid)
            .subscribe(function (p) { return _this.subcat = p; }, function (e) { return console.log(e); }, function () { return _this.processdata(); });
        this.localService
            .getall(ofcmemsession_id)
            .subscribe(function (p) { return _this.freelancermembers = p; }, function (e) { return console.log(e); }, function () { return _this.processdata(); });
        this.postajobService.getCountry('hj').subscribe(function (p) { _this.drpCountryId = p; _this.drpCountryId.unshift({ label: "Select Country", value: "1" }); }, function (e) { return console.log(e); }, function () { return console.log(_this.drpCountryId); });
        this.postajobService.getLanguage('hj').subscribe(function (p) { _this.drpLanguageId = p; _this.drpLanguageId.unshift({ label: "Select Language", value: "1" }); }, function (e) { return console.log(e); }, function () { return console.log(_this.drpLanguageId); });
        var a = { label: "Select Price", value: "0" };
        this.pricerange.push(a);
        var b = { label: "Select Date", value: "0" };
        this.daterange.push(b);
    };
    SearchFreeLancersComponent.prototype.processdata = function () {
    };
    SearchFreeLancersComponent.prototype.populatedrp = function () {
        for (var i = 0; i < this.drpvar.length; i++) {
            this.drpsearchfreelancers.push({ label: this.drpvar[i].labeld, value: this.drpvar[i].valued });
        }
    };
    SearchFreeLancersComponent.prototype.drpchange = function (events1) {
    };
    SearchFreeLancersComponent.prototype.getSkillList = function (skillList) {
        var a = "";
        for (var i = 0; i < skillList.length; i++) {
            var c = skillList[i].skill_name;
            var b = '<div class="skills">' + c + '</div>';
            a += b;
        }
        return a;
    };
    SearchFreeLancersComponent.prototype.subcatClick = function (event) {
        var _this = this;
        this.keyword = [];
        this.selectedTypeskeyword = [];
        var subcatid = this.selectedTypesubcat;
        this.postajobService.getKeywordBySubCat(subcatid)
            .subscribe(function (p) { return _this.keyword = p; }, function (e) { return console.log(e); }, function () { return _this.processdata(); });
    };
    Object.defineProperty(SearchFreeLancersComponent.prototype, "diagnostic", {
        get: function () { return JSON.stringify(this.userform.value); },
        enumerable: true,
        configurable: true
    });
    SearchFreeLancersComponent = __decorate([
        core_1.Component({
            moduleId: module.id,
            selector: 'sd-searchfreelancers',
            templateUrl: 'searchfreelancers.component.html',
            styleUrls: ['searchfreelancers.component.css'],
            providers: [first_pipe_1.MyCurrencyPipe, mydateformat_pipe_1.MyDateFormat, emailvalidate_pipe_1.EmailValidate, baseurl_service_1.BaseUrlService]
        }), 
        __metadata('design:paramtypes', [forms_1.FormBuilder, router_1.ActivatedRoute, router_1.Router, index_1.SearchFreeLancersService, first_pipe_1.MyCurrencyPipe, mydateformat_pipe_1.MyDateFormat, emailvalidate_pipe_1.EmailValidate, baseurl_service_1.BaseUrlService, index_2.PostajobService])
    ], SearchFreeLancersComponent);
    return SearchFreeLancersComponent;
}());
exports.SearchFreeLancersComponent = SearchFreeLancersComponent;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9zZWFyY2hmcmVlbGFuY2Vycy9zZWFyY2hmcmVlbGFuY2Vycy5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBLHFCQUFpQyxlQUFlLENBQUMsQ0FBQTtBQUNqRCxzQkFBMkQsZ0JBQWdCLENBQUMsQ0FBQTtBQUk1RSx1QkFBdUMsaUJBQWlCLENBQUMsQ0FBQTtBQVl6RCwyQkFBK0IsNEJBQTRCLENBQUMsQ0FBQTtBQUM1RCxzQkFBeUMsbUNBQW1DLENBQUMsQ0FBQTtBQUk3RSxrQ0FBNkIsbUNBQW1DLENBQUMsQ0FBQTtBQUNqRSxtQ0FBOEIsb0NBQW9DLENBQUMsQ0FBQTtBQUVuRSxnQ0FBNkIsbUNBQW1DLENBQUMsQ0FBQTtBQUdqRSxzQkFBZ0MsMEJBQTBCLENBQUMsQ0FBQTtBQVkzRDtJQTJHRSxvQ0FBb0IsRUFBZSxFQUNmLEtBQXFCLEVBQ3JCLE1BQWMsRUFDZCxZQUFzQyxFQUN0QyxLQUFxQixFQUNyQixPQUFxQixFQUNyQixRQUF1QixFQUN2QixjQUE2QixFQUM3QixlQUFnQztRQVJoQyxPQUFFLEdBQUYsRUFBRSxDQUFhO1FBQ2YsVUFBSyxHQUFMLEtBQUssQ0FBZ0I7UUFDckIsV0FBTSxHQUFOLE1BQU0sQ0FBUTtRQUNkLGlCQUFZLEdBQVosWUFBWSxDQUEwQjtRQUN0QyxVQUFLLEdBQUwsS0FBSyxDQUFnQjtRQUNyQixZQUFPLEdBQVAsT0FBTyxDQUFjO1FBQ3JCLGFBQVEsR0FBUixRQUFRLENBQWU7UUFDdkIsbUJBQWMsR0FBZCxjQUFjLENBQWU7UUFDN0Isb0JBQWUsR0FBZixlQUFlLENBQWlCO1FBL0dwRCxTQUFJLEdBQVksRUFBRSxDQUFDO1FBU2xCLFdBQU0sR0FBYyxFQUFFLENBQUM7UUFDdkIseUJBQW9CLEdBQWUsRUFBRSxDQUFDO1FBV3ZDLGtCQUFhLEdBQVUsRUFBRSxDQUFDO1FBRTFCLGtCQUFhLEdBQWUsRUFBRSxDQUFDO1FBTy9CLHNCQUFpQixHQUFjLEVBQUUsQ0FBQztR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YixDQUFDO0lBRUYsZ0RBQVcsR0FBWCxVQUFZLEtBQVU7UUFBdEIsaUJBa0JBO1FBakJDLElBQUksQ0FBQyxPQUFPLEdBQUcsRUFBRSxDQUFDO1FBQ2xCLElBQUksQ0FBQyxvQkFBb0IsR0FBRyxFQUFFLENBQUM7UUFHL0IsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLGtCQUFrQixDQUFDO1FBSXZDLElBQUksQ0FBQyxlQUFlLENBQUMsa0JBQWtCLENBQUMsUUFBUSxDQUFDO2FBQzlDLFNBQVMsQ0FDYSxVQUFBLENBQUMsSUFBSSxPQUFBLEtBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxFQUFoQixDQUFnQixFQUNyQixVQUFBLENBQUMsSUFBSSxPQUFBLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQWQsQ0FBYyxFQUNwQixjQUFNLE9BQUEsS0FBSSxDQUFDLFdBQVcsRUFBRSxFQUFsQixDQUFrQixDQUFDLENBQUM7SUFLcEQsQ0FBQztJQUtELHNCQUFJLGtEQUFVO2FBQWQsY0FBbUIsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7OztPQUFBO0lBL1lsRTtRQUFDLGdCQUFTLENBQUM7WUFDVCxRQUFRLEVBQUUsTUFBTSxDQUFDLEVBQUU7WUFDbkIsUUFBUSxFQUFFLHNCQUFzQjtZQUNoQyxXQUFXLEVBQUUsa0NBQWtDO1lBQy9DLFNBQVMsRUFBRSxDQUFDLGlDQUFpQyxDQUFDO1lBQzlDLFNBQVMsRUFBQyxDQUFDLDJCQUFjLEVBQUMsZ0NBQVksRUFBQyxrQ0FBYSxFQUFDLGdDQUFjLENBQUM7U0FDckUsQ0FBQzs7a0NBQUE7SUEyWUQsaUNBQUM7QUFBRCxDQTFZRCxBQTBZRSxJQUFBO0FBMVlXLGtDQUEwQiw2QkEwWXJDLENBQUEiLCJmaWxlIjoiYXBwL3NlYXJjaGZyZWVsYW5jZXJzL3NlYXJjaGZyZWVsYW5jZXJzLmNvbXBvbmVudC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCxPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHtGb3JtR3JvdXAsRm9ybUNvbnRyb2wsVmFsaWRhdG9ycyxGb3JtQnVpbGRlcn0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xyXG5pbXBvcnQge0Zvcm1zTW9kdWxlLFJlYWN0aXZlRm9ybXNNb2R1bGV9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcclxuaW1wb3J0IHtNZXNzYWdlc01vZHVsZSxNZXNzYWdlLEdyb3dsfSBmcm9tICdwcmltZW5nL3ByaW1lbmcnO1xyXG5pbXBvcnQge1BhbmVsTW9kdWxlfSBmcm9tICdwcmltZW5nL3ByaW1lbmcnO1xyXG5pbXBvcnQgeyBBY3RpdmF0ZWRSb3V0ZSwgUm91dGVyIH0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcclxuaW1wb3J0IHtCdXR0b25Nb2R1bGV9IGZyb20gJ3ByaW1lbmcvcHJpbWVuZyc7XHJcbmltcG9ydCB7T0ZDTWVtYmVyc30gZnJvbSAnLi9vZmNtZW1iZXJzJztcclxuXHJcbmltcG9ydCB7U2tpbGx9IGZyb20gJy4vc2tpbGwnO1xyXG5cclxuaW1wb3J0IHtEcm9wZG93bjF9IGZyb20gJy4vZHJvcGRvd24xJztcclxuaW1wb3J0IHtGaWxlVXBsb2FkfSBmcm9tICcuL2ZpbGV1cGxvYWQnO1xyXG5pbXBvcnQge0RhdGFUYWJsZU1vZHVsZSxEYXRhTGlzdE1vZHVsZX0gZnJvbSAncHJpbWVuZy9wcmltZW5nJztcclxuaW1wb3J0IHtEcm9wZG93bk1vZHVsZX0gZnJvbSAncHJpbWVuZy9wcmltZW5nJztcclxuXHJcblxyXG5pbXBvcnQgeyBNeUN1cnJlbmN5UGlwZSB9IGZyb20gJy4uL3NoYXJlZC9waXBlcy9maXJzdC5waXBlJztcclxuaW1wb3J0IHsgU2VhcmNoRnJlZUxhbmNlcnNTZXJ2aWNlIH0gZnJvbSAnLi4vc2hhcmVkL3NlYXJjaGZyZWVsYW5jZXJzL2luZGV4JztcclxuXHJcbmltcG9ydCB7RmlsZVVwbG9hZE1vZHVsZX0gZnJvbSAncHJpbWVuZy9wcmltZW5nJztcclxuaW1wb3J0IHtTZWxlY3RJdGVtfSBmcm9tICdwcmltZW5nL3ByaW1lbmcnO1xyXG5pbXBvcnQgeyBNeURhdGVGb3JtYXQgfSBmcm9tICcuLi9zaGFyZWQvcGlwZXMvbXlkYXRlZm9ybWF0LnBpcGUnO1xyXG5pbXBvcnQgeyBFbWFpbFZhbGlkYXRlIH0gZnJvbSAnLi4vc2hhcmVkL3BpcGVzL2VtYWlsdmFsaWRhdGUucGlwZSc7XHJcbmltcG9ydCB7IEN1c3RvbVZhbGlkYXRvciB9IGZyb20gJy4uL3NoYXJlZC92YWxpZGF0b3JzL3ZhbGlkYXRvci5kaXJlY3RpdmUnO1xyXG5pbXBvcnQge0Jhc2VVcmxTZXJ2aWNlfSBmcm9tICcuLi9zaGFyZWQvYmFzZXVybC9iYXNldXJsLnNlcnZpY2UnO1xyXG5pbXBvcnQge0NvbW1vbkJyb3dzZVRvcFNraWxsc0NvbXBvbmVudH0gZnJvbSAnLi4vY29tbW9uYnJvd3NldG9wc2tpbGxzL2NvbW1vbmJyb3dzZXRvcHNraWxscy5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBPRkNtZW1TZXNzaW9uIH0gZnJvbSAnLi4vbG9naW5wYWdlL29mY21lbXNlc3Npb24nO1xyXG5pbXBvcnQgeyBQb3N0YWpvYlNlcnZpY2UgfSBmcm9tICcuLi9zaGFyZWQvcG9zdGFqb2IvaW5kZXgnO1xyXG5cclxuLyoqXHJcbiAqIFRoaXMgY2xhc3MgcmVwcmVzZW50cyB0aGUgbGF6eSBsb2FkZWQgc2VhcmNoZnJlZWxhbmNlcnNDb21wb25lbnQuXHJcbiAqL1xyXG5AQ29tcG9uZW50KHtcclxuICBtb2R1bGVJZDogbW9kdWxlLmlkLFxyXG4gIHNlbGVjdG9yOiAnc2Qtc2VhcmNoZnJlZWxhbmNlcnMnLFxyXG4gIHRlbXBsYXRlVXJsOiAnc2VhcmNoZnJlZWxhbmNlcnMuY29tcG9uZW50Lmh0bWwnLFxyXG4gIHN0eWxlVXJsczogWydzZWFyY2hmcmVlbGFuY2Vycy5jb21wb25lbnQuY3NzJ10sXHJcbiAgcHJvdmlkZXJzOltNeUN1cnJlbmN5UGlwZSxNeURhdGVGb3JtYXQsRW1haWxWYWxpZGF0ZSxCYXNlVXJsU2VydmljZV1cclxufSlcclxuZXhwb3J0IGNsYXNzIFNlYXJjaEZyZWVMYW5jZXJzQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcclxuICAvL0Zvcm0gZ3JvcCBcclxuICB1c2VyZm9ybTogRm9ybUdyb3VwO1xyXG4gIC8vIEdyb3dsIG1lc3NlZ2VcclxuICBtc2dzOiBNZXNzYWdlW109W107XHJcblxyXG4gIC8vRGVjbGFyZTogRGF0YSBoYW5kbGluZyBmb3IgR3JpZCBmbG93LCBmb3JtIGZsb3dcclxuICAvLyBzZWFyY2hmcmVlbGFuY2Vyc3M6IFNlYXJjaEZyZWVMYW5jZXJzW109W107XHJcbiAgc3VibWl0dGVkOiBib29sZWFuO1xyXG4gIC8vIHNlYXJjaGZyZWVsYW5jZXJzOiBTZWFyY2hGcmVlTGFuY2VycztcclxuICAvLyBzZWxlY3RlZFJvdzogU2VhcmNoRnJlZUxhbmNlcnM7XHJcblxyXG4gICAvLyBGb3JtIGRhdGEgcHJlZmlsbGVkXHJcbiAgIGRycHZhcjogRHJvcGRvd24xW109W107XHJcbiAgIGRycHNlYXJjaGZyZWVsYW5jZXJzOiBTZWxlY3RJdGVtW109W107XHJcbiAgIHN0YXJ0ZGF0ZTogRGF0ZTtcclxuICAgZW5kZGF0ZTogRGF0ZTtcclxuXHJcbiAgIC8vYm9vbGVhbiB2YWx1ZSBmb3IgQWRkIG5ldyBvciBFZGl0IE1vZGVcclxuICAgbmV3c2VhcmNoZnJlZWxhbmNlcnM6IGJvb2xlYW47XHJcbiAgIFxyXG4gIC8vICBzZWxlY3RlZHNlYXJjaGZyZWVsYW5jZXJzOiBzdHJpbmc7XHJcbiAgICAgICBcclxuICAvLyoqKiBmaWxldXBsb2FkIERlY2xhcmUgKioqXHJcbiAgLy9DbGllbnQgZm9ybWF0IGZvciBmaWxlIHVwbG9hZFxyXG4gIHVwbG9hZGVkRmlsZXM6IGFueVtdID0gW107XHJcbiAgLy9zZXJ2ZXIgZm9ybWF0IGZvciBmaWxlIHVwbG9hZFxyXG4gIGZpbGV1cGxvYWRhcnI6IEZpbGVVcGxvYWRbXT1bXTtcclxuICBmaWxldXBsb2FkOiBGaWxlVXBsb2FkO1xyXG5cclxuICBteWJhc2V1cmw6c3RyaW5nO1xyXG5cclxuc2tpbGxMaXN0OnN0cmluZ1tdO1xyXG5cclxuICBmcmVlbGFuY2VybWVtYmVyczpPRkNNZW1iZXJzW109W107XHJcbiAgZnJlZWxhbmNlcm1lbWJlcjpPRkNNZW1iZXJzO1xyXG4gIGRycENvdW50cnlJZDpTZWxlY3RJdGVtW109W107XHJcbiAgZHJwTGFuZ3VhZ2VJZDpTZWxlY3RJdGVtW109W107XHJcbiAgc2VsZWN0ZWRSb3c6IE9GQ01lbWJlcnM7XHJcblxyXG4gIHNlbGVjdGVkQ291bnRyeTpzdHJpbmc9XCJcIjtcclxuICBzZWxlY3RlZExhbmd1YWdlOnN0cmluZz1cIlwiO1xyXG4gIHByaWNlcmFuZ2U6U2VsZWN0SXRlbVtdPVtdO1xyXG5cclxuICBkYXRlcmFuZ2U6U2VsZWN0SXRlbVtdPVtdO1xyXG4gIFxyXG4gIHNlbGVjdGVkVHlwZXN1YmNhdDogc3RyaW5nO1xyXG4gIHNlbGVjdGVkVHlwZXNrZXl3b3JkOiBzdHJpbmdbXSA9IFtdOy8vWydBcGFydG1lbnQnLCdTdHVkaW8nXTtcclxuXHJcbiAga2V5d29yZDogU2VsZWN0SXRlbVtdID0gW107XHJcbiAgc3ViY2F0OiBTZWxlY3RJdGVtW10gPSBbXTtcclxuXHJcbiAgLy9QcmVwYXJlIGRhdGEgZm9yIG5ldyBlbnRyeSBvciBpbml0aXplIGRhdGEgZHVyaW5nIGZvcm0gbG9hZCBieSBjbGVhcmluZyBkYXRhIG9yIHByZXNldHRpbmcgZGF0YVxyXG4gIGNsZWFyKCl7XHJcblxyXG4gICAgICAgIHRoaXMua2V5d29yZCA9IFtdO1xyXG4gICAgICAgIHRoaXMuc3ViY2F0ID0gW107XHJcblxyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRUeXBlc3ViY2F0ID0gbnVsbDtcclxuXHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZFR5cGVza2V5d29yZCA9IFtdO1xyXG5cclxuICAgICAgICB0aGlzLm5ld3NlYXJjaGZyZWVsYW5jZXJzPXRydWU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5mcmVlbGFuY2VybWVtYmVyPXtcclxuICAgICAgICAgIFwib2ZjbWVtYmVyc19pZFwiOlwiXCIsXHJcbiAgICAgICAgICBcIm9mY21lbWJlcnNfZm5hbWVcIjpcIlwiLFxyXG4gICAgICAgICAgXCJvZmNtZW1iZXJzX21uYW1lXCI6XCJcIixcclxuICAgICAgICAgIFwib2ZjbWVtYmVyc19sbmFtZVwiOlwiXCIsXHJcbiAgICAgICAgICBcIm9mY21lbWJlcnNfbmFtZVwiOlwiXCIsXHJcbiAgICAgICAgICBcIm9mY21lbWJlcl90eXBlXCI6XCJcIixcclxuICAgICAgICAgIFwiY2l0eV9pZFwiOlwiXCIsXHJcbiAgICAgICAgICBcIm9mY21lbWJlcnNfZW1haWxpZFwiOlwiXCIsXHJcbiAgICAgICAgICBcIm9mY21lbWJlcnNfcGFzc3dvcmRcIjpcIlwiLFxyXG4gICAgICAgICAgXCJvZmNtZW1iZXJzX2FkZHJlc3MxXCI6XCJcIixcclxuICAgICAgICAgIFwib2ZjbWVtYmVyc19hZGRyZXNzMlwiOlwiXCIsXHJcbiAgICAgICAgICBcIm9mY21lbWJlcnNfcGluY29kZVwiOlwiXCIsXHJcbiAgICAgICAgICBcIm9mY21lbWJlcnNfY29udGFjdG5vc1wiOlwiXCIsXHJcbiAgICAgICAgICBcIm9mY21lbWJlcnNfYXZhaWxhYmlsaXR5XCI6XCJcIixcclxuICAgICAgICAgIFwib2ZjbWVtYmVyc19kaXNwbGF5bmFtZVwiOlwiXCIsXHJcbiAgICAgICAgICBcIm9mY21lbWJlcnNfZGVzY3JpcHRpb25cIjpcIlwiLFxyXG4gICAgICAgICAgXCJvZmNtZW1iZXJzX3NlbGZyYXRpbmdcIjpcIlwiLFxyXG4gICAgICAgICAgXCJvZmNtZW1iZXJzX2V4cGVyaWVuY2VsZXZlbFwiOlwiXCIsXHJcbiAgICAgICAgICBcIm9mY21lbWJlcnNfZ2VuZGVyXCI6XCJcIixcclxuICAgICAgICAgIFwib2ZjbWVtYmVyc19kb2JcIjpcIlwiLFxyXG4gICAgICAgICAgXCJvZmNtZW1iZXJzX25vc29mdGVhbW1lbWJlcnNcIjpcIlwiLFxyXG4gICAgICAgICAgXCJzdGF0dXNcIjpcIlwiLFxyXG4gICAgICAgICAgXCJjb3VudHJ5X2lkXCI6XCJcIixcclxuICAgICAgICAgIFwiY291bnRyeV9uYW1lXCI6XCJcIixcclxuICAgICAgICAgIFwic3RhdGVfaWRcIjpcIlwiLFxyXG4gICAgICAgICAgXCJzdGF0ZV9uYW1lXCI6XCJcIixcclxuICAgICAgICAgIFwiY2l0eV9uYW1lXCI6XCJcIixcclxuICAgICAgICAgIFwic2tpbGxzYXJyXCI6W11cclxuICAgICAgICB9O1xyXG4gICAgICBcclxuICAgICAgXHJcbiAgICAgIFxyXG4gICAgdGhpcy5maWxldXBsb2FkPXtcclxuICAgICAgZmlsZU5hbWU6ICcnLFxyXG4gICAgICBmaWxlVHlwZTogJycsXHJcbiAgICAgIGZpbGVQYXRoOiAnJyxcclxuICAgICAgZmlsZVN0YXR1czogJycsXHJcbiAgICAgIHVwbG9hZGZpbGVfZmlsZW5hbWU6ICcnXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBjb25zdHJ1Y3RvciBpbml0aWF6ZSBvZiBhbGwgbmVjZXNzYXJ5IHZhcmlhYmxlIGFuZCBvYmplY3RzXHJcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBmYjogRm9ybUJ1aWxkZXIsXHJcbiAgICAgICAgICAgICAgcHJpdmF0ZSByb3V0ZTogQWN0aXZhdGVkUm91dGUsXHJcbiAgICAgICAgICAgICAgcHJpdmF0ZSByb3V0ZXI6IFJvdXRlcixcclxuICAgICAgICAgICAgICBwcml2YXRlIGxvY2FsU2VydmljZTogU2VhcmNoRnJlZUxhbmNlcnNTZXJ2aWNlLFxyXG4gICAgICAgICAgICAgIHByaXZhdGUgbXljdXI6IE15Q3VycmVuY3lQaXBlLFxyXG4gICAgICAgICAgICAgIHByaXZhdGUgbXlkYXRlMTogTXlEYXRlRm9ybWF0LFxyXG4gICAgICAgICAgICAgIHByaXZhdGUgZW1haWx2YWw6IEVtYWlsVmFsaWRhdGUsXHJcbiAgICAgICAgICAgICAgcHJpdmF0ZSBiYXNlVXJsc2VydmljZTpCYXNlVXJsU2VydmljZSxcclxuICAgICAgICAgICAgICBwcml2YXRlIHBvc3Rham9iU2VydmljZTogUG9zdGFqb2JTZXJ2aWNlLFxyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICl7XHJcbiAgICAgICAgICAgdGhpcy5teWJhc2V1cmw9YmFzZVVybHNlcnZpY2UuZ2V0QmFzZXVybCgpK1wic2VhcmNoZnJlZWxhbmNlcnMvXCI7ICAgICBcclxuICAgICAgICAgIC8vIGRycG9wIGRvd24gY2FuIG9ubHkgYmUgcG9wdWxhdGVkIGluIGNvbnN0cnVjdG9yIGFuZCBub3QgaW4gbmdpbml0KClcclxuICAgICAgICAgIC8vIHRoaXMubG9jYWxTZXJ2aWNlXHJcbiAgICAgICAgICAvLyAuZ2V0c2VsZWN0ZHJwc2VhcmNoZnJlZWxhbmNlcnMoJ2hqJylcclxuICAgICAgICAgIC8vIC5zdWJzY3JpYmUoXHJcbiAgICAgICAgICAvLyAgIC8qIGhhcHB5IHBhdGggKi8gcCA9PnRoaXMuZHJwdmFyPXAsLy9hbGVydCggSlNPTi5zdHJpbmdpZnkoIHApKSxcclxuICAgICAgICAgIC8vICAgLyogZXJyb3IgcGF0aCAqLyBlID0+IGNvbnNvbGUubG9nKGUpLFxyXG4gICAgICAgICAgLy8gICAvKiBvbkNvbXBsZXRlICovICgpID0+IHRoaXMucG9wdWxhdGVkcnAoKSk7Ly97dGhpcy5teW1ldGhvZCh0aGlzLmRycHZhcik7fSk7Ly90aGlzLm1zZ3MucHVzaCh7c2V2ZXJpdHk6J2luZm8nLCBzdW1tYXJ5OidTdWNjZXNzJywgZGV0YWlsOidGb3JtIFVwZGF0ZSBTdWNjZXNzZnVsbHk6ICcgKyBKU09OLnN0cmluZ2lmeSggdGhpcy5kcnB2YXIpICsgJyA6ICcgKyB0aGlzLmRycHZhci5sZW5ndGh9KSk7XHJcblxyXG4gICAgXHJcbiAgfVxyXG4gIG9uUm93U2VsZWN0KHRlbXBwcm9qOiBPRkNNZW1iZXJzKXtcclxuICAgICAgICAgLy9JbmRpY2F0b3IgZm9yIGZvcm0gaXMgaW4gRWRpdCBtb2RlXHJcbiAgICAgICAgIHRoaXMubmV3c2VhcmNoZnJlZWxhbmNlcnM9ZmFsc2U7XHJcbiAgICAgICAgIGxldCBtZW1pZD10ZW1wcHJvai5vZmNtZW1iZXJzX2lkO1xyXG4gICAgICAgICBcclxuICAgICAgICAgdGhpcy5yb3V0ZXIubmF2aWdhdGUoWycvc2VhcmNoZnJlZWxhbmNlcnNkZXRhaWxzJyxtZW1pZF0pO1xyXG4gICAgICAgICAvL0NvcHkgb2Ygcm93IHNlbGVjdGVkXHJcbiAgICAgICAgLy8gIHRoaXMuc2VhcmNoZnJlZWxhbmNlcnM9dGhpcy5zZWxlY3RlZFJvdztcclxuICAgICAgICAvLyAgbGV0IHRlbXBwcm9qOiBPRkNNZW1iZXJzO1xyXG5cclxuICAgICAgICAvLyAgdGVtcHByb2ogPSB0aGlzLnNlbGVjdGVkUm93O1xyXG4gICAgICAgICAvL0NhbGxpbmcgV1MgdG8gZ2V0IHRoZSBzZWxlY3RlZCBkYXRhIGZyb20gc2VydmVyIERCIG9mIHRoZSBzZWxlY3RlZCByb3dcclxuICAgICAgICAgLypcclxuICAgICAgICAgdGhpcy5sb2NhbFNlcnZpY2VcclxuICAgICAgLmdldHNlbGVjdEFsbGZpbGVTZWFyY2hGcmVlTGFuY2Vycyh0ZW1wcHJvai5zZWFyY2hmcmVlbGFuY2Vyc19pZClcclxuICAgICAgLnN1YnNjcmliZShcclxuICAgICAgICAgLyogaGFwcHkgcGF0aCAqLyAvL3AgPT4gdGhpcy5maWxldXBsb2FkYXJyPXAsXHJcbiAgICAgICAgIC8qIGVycm9yIHBhdGggKi8gLy9lID0+IGNvbnNvbGUubG9nKCBlKSxcclxuICAgICAgICAgLyogb25Db21wbGV0ZSAqLyAvLygpID0+IGNvbnNvbGUubG9nKCdkb25lIGdldHNlbGVjdEFsbGZpbGV1cGxvYWRzZWFyY2hmcmVlbGFuY2VyczogJyArIHRoaXMuZmlsZXVwbG9hZGFycikpO1xyXG5cclxuICAgICAgICAvLyAgY29uc29sZS5sb2coJ29uUm93U2VsZWN0OiAnICsgSlNPTi5zdHJpbmdpZnkgKHRoaXMuc2VhcmNoZnJlZWxhbmNlcnMpKTtcclxuICAgICAgICAvLyAgY29uc29sZS5sb2coJ29uUm93U2VsZWN0IGZpbGV1cGxvYWRhcnI6ICcgKyBKU09OLnN0cmluZ2lmeSAodGhpcy5maWxldXBsb2FkYXJyKSk7XHJcblxyXG4gICAgICAgICAvL0NhbGxpbmcgV1MgdG8gZ2V0IHRoZSBzZWxlY3RlZCBkYXRhIGZyb20gc2VydmVyIERCIG9mIHRoZSBzZWxlY3RlZCByb3dcclxuICAgICAgICBcclxuICAgICAgICAvKlxyXG4gICAgICAgIHRoaXMubG9jYWxTZXJ2aWNlXHJcbiAgICAgIC5nZXRlZGl0KHRlbXBwcm9qLnNlYXJjaGZyZWVsYW5jZXJzX2lkKVxyXG4gICAgICAuc3Vic2NyaWJlKFxyXG4gICAgICAgICAvKiBoYXBweSBwYXRoICovIC8vcCA9PiB0aGlzLnNlYXJjaGZyZWVsYW5jZXJzPXAsXHJcbiAgICAgICAgIC8qIGVycm9yIHBhdGggKi8vLyBlID0+IGNvbnNvbGUubG9nKCBlKSxcclxuICAgICAgICAgLyogb25Db21wbGV0ZSAqLyAvLygpID0+IHt0aGlzLmFmdGVyY2FsbGRhdGUoKTt9ICk7Ly9jb25zb2xlLmxvZygnZG9uZSBnZXRzZWxlY3RFZGl0c2VhcmNoZnJlZWxhbmNlcnM6ICcgKyB0aGlzLnNlYXJjaGZyZWVsYW5jZXJzKSk7XHJcblxyXG4gICAgICAgICBcclxuICAgICAgICBcclxuICB9XHJcbiAgYWZ0ZXJjYWxsZGF0ZSgpe1xyXG4gICAgLypcclxuICAgICBhbGVydChKU09OLnN0cmluZ2lmeSggdGhpcy5zZWFyY2hmcmVlbGFuY2VycykpO1xyXG4gICAgYWxlcnQodGhpcy5zZWFyY2hmcmVlbGFuY2Vycy5zZWFyY2hmcmVlbGFuY2Vyc19lbmRkYXRlKTtcclxuICAgICAgICAgYWxlcnQobmV3IERhdGUoTnVtYmVyKHRoaXMuc2VhcmNoZnJlZWxhbmNlcnMuc2VhcmNoZnJlZWxhbmNlcnNfZW5kZGF0ZSkgKSk7XHJcbiAgICAgICAgIGFsZXJ0KG5ldyBEYXRlKE51bWJlcih0aGlzLnNlYXJjaGZyZWVsYW5jZXJzLnNlYXJjaGZyZWVsYW5jZXJzX3N0YXJ0ZGF0ZSkgKSk7XHJcbiAgICB0aGlzLnN0YXJ0ZGF0ZSAgPSBuZXcgRGF0ZShOdW1iZXIodGhpcy5zZWFyY2hmcmVlbGFuY2Vycy5zZWFyY2hmcmVlbGFuY2Vyc19zdGFydGRhdGUgKSk7XHJcbiAgICB0aGlzLmVuZGRhdGUgID0gbmV3IERhdGUoTnVtYmVyKHRoaXMuc2VhcmNoZnJlZWxhbmNlcnMuc2VhcmNoZnJlZWxhbmNlcnNfZW5kZGF0ZSApKTtcclxuIFxyXG4qLyB9XHJcblxyXG4gIC8vUHJlcGFyZSBmb3IgSlNPTiBmb3IgZmlsZSB0byBiZSB1cGxvYWRlZCB0byBzZXJ2ZXIganVzdCBhZnRlciBmb3JtIHN1Ym1pc3Npb25cclxuICBvbkZpbmFsRmlsZVVwbG9hZCgpeyAgIFxyXG4gIFxyXG4gICAgLy8gYWxlcnQodGhpcy51cGxvYWRlZEZpbGVzLmxlbmd0aCk7XHJcbiAgICBmb3IobGV0IGk9MDtpPHRoaXMudXBsb2FkZWRGaWxlcy5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgIGxldCBmaWxlbmFtZT10aGlzLnVwbG9hZGVkRmlsZXNbaV0ubmFtZTtcclxuICAgICAgICAgXHJcbiAgICAgICAgICBcclxuICAgICAgICAgIHRoaXMuZmlsZXVwbG9hZC5maWxlTmFtZT1maWxlbmFtZTtcclxuICAgICAgICAgIHRoaXMuZmlsZXVwbG9hZC5maWxlUGF0aD0nJztcclxuICAgICAgICAgIHRoaXMuZmlsZXVwbG9hZC5maWxlU3RhdHVzPSdZZXMnO1xyXG4gICAgICAgICAgdGhpcy5maWxldXBsb2FkLmZpbGVUeXBlPSdpbWcnO1xyXG4gICAgICAgICAgdGhpcy5maWxldXBsb2FkLnVwbG9hZGZpbGVfZmlsZW5hbWU9Jyc7XHJcbiAgICAgICAgIC8vIGFsZXJ0KFwiaW5zaWRlZmlsZXVwbG9hZDogXCIgKyBKU09OLnN0cmluZ2lmeSh0aGlzLmZpbGV1cGxvYWQpKTtcclxuICAgICAgICAgIHRoaXMuZmlsZXVwbG9hZGFyci5wdXNoKHRoaXMuZmlsZXVwbG9hZCk7XHJcbiAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgXHJcbiAgfSBcclxuXHJcbiAgLy8gRGF0ZSBjaGFuZ2UgZXZlbnQgdG8gZm9ybWF0IG5nbW9kZWwgdG8gb3VyIGZvcm1hdCBkYXRlIGFuZCBjYWxsaW5nIHBpcGUgXHJcbiAgLy8gc3RhcnRkYXRlY2hhbmdlKCl7XHJcbiAgLy8gICB0aGlzLnNlYXJjaGZyZWVsYW5jZXJzLnByb2ptaWxlX3N0YXJ0ZGF0ZT10aGlzLm15ZGF0ZTEucGFyc2UodGhpcy5zZWFyY2hmcmVlbGFuY2Vycy5wcm9qbWlsZV9zdGFydGRhdGUpXHJcbiAgLy8gfVxyXG4gIC8vIGVuZGRhdGVjaGFuZ2UoKXtcclxuICAvLyAgIHRoaXMuc2VhcmNoZnJlZWxhbmNlcnMucHJvam1pbGVfZW5kZGF0ZT10aGlzLm15ZGF0ZTEucGFyc2UodGhpcy5zZWFyY2hmcmVlbGFuY2Vycy5wcm9qbWlsZV9lbmRkYXRlKVxyXG4gIC8vIH1cclxuXHJcblxyXG4gIG9uU3VibWl0KCl7XHJcbiAgICAgIC8vICAgYWxlcnQoSlNPTi5zdHJpbmdpZnkodGhpcy5zZWxlY3RlZFJvdykpO1xyXG4gICAgICAgIC8vYWxlcnQodGhpcy5zZWFyY2hmcmVlbGFuY2Vycy5zZWFyY2hmcmVlbGFuY2Vyc19zdGFydGRhdGUpO1xyXG4gICAgICAgIC8vdGhpcy5zZWFyY2hmcmVlbGFuY2Vycy5zZWFyY2hmcmVlbGFuY2Vyc19zdGFydGRhdGU9dGhpcy5teWRhdGUxLnBhcnNlKHRoaXMuc3RhcnRkYXRlKVxyXG4gIFxyXG4gICAgICAgIC8vdGhpcy5zZWFyY2hmcmVlbGFuY2Vycy5zZWFyY2hmcmVlbGFuY2Vyc19lbmRkYXRlPXRoaXMubXlkYXRlMS5wYXJzZSh0aGlzLmVuZGRhdGUpXHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5vbkZpbmFsRmlsZVVwbG9hZCgpO1xyXG4gICAgICAgIHRoaXMuc3VibWl0dGVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLm1zZ3MgPSBbXTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeSh0aGlzLnNlYXJjaGZyZWVsYW5jZXJzKSk7XHJcbiAgICAgICAgLy8gdGhpcy5tc2dzLnB1c2goe3NldmVyaXR5OidpbmZvJywgc3VtbWFyeTonUGxlYXNlIHdhaXQnLCBkZXRhaWw6J0Zvcm0gU3VibWl0dGVkIFN1Y2Nlc3NmdWxseS4uIFBsZWFzZSB3YWl0Li4nfSlcclxuICAgICAgICBcclxuICAgICAgICAvLyAgY29uc29sZS5sb2coJ29uU3VibWl0IG9uUm93U2VsZWN0OiAnICsgSlNPTi5zdHJpbmdpZnkgKHRoaXMuc2VhcmNoZnJlZWxhbmNlcnMpKTtcclxuICAgICAgICAvLyAgY29uc29sZS5sb2coJ29uU3VibWl0IG9uUm93U2VsZWN0IGZpbGV1cGxvYWRhcnI6ICcgKyBKU09OLnN0cmluZ2lmeSAodGhpcy5maWxldXBsb2FkYXJyKSk7XHJcblxyXG4gICAgICAgIC8vIGlmKHRoaXMubmV3c2VhcmNoZnJlZWxhbmNlcnMpey8vQWRkIG5ldyBlbnRyeSBzYXZpbmdcclxuICAgICAgICAvLyAgICB0aGlzLmxvY2FsU2VydmljZVxyXG4gICAgICAgIC8vICAgLmluc2VydCh0aGlzLnNlYXJjaGZyZWVsYW5jZXJzLHRoaXMuZmlsZXVwbG9hZGFycilcclxuICAgICAgICAvLyAgIC5zdWJzY3JpYmUoXHJcbiAgICAgICAgLy8gICAgIC8qIGhhcHB5IHBhdGggKi8gcCA9PiB0aGlzLnNlYXJjaGZyZWVsYW5jZXJzcyA9IHAsXHJcbiAgICAgICAgLy8gICAgIC8qIGVycm9yIHBhdGggKi8gZSA9PiBjb25zb2xlLmxvZyhlKSxcclxuICAgICAgICAvLyAgICAgLyogb25Db21wbGV0ZSAqLyAoKSA9PiB0aGlzLm1zZ3MucHVzaCh7c2V2ZXJpdHk6J2luZm8nLCBzdW1tYXJ5OidTdWNjZXNzJywgZGV0YWlsOidGb3JtIFVwZGF0ZSBTdWNjZXNzZnVsbHknfSkpO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAvLyBlbHNleyAvLyB1cGRhdGUgZW50cnkgc2F2aW5nXHJcbiAgICAgICAgLy8gICBjb25zb2xlLmxvZygnc2VhcmNoZnJlZWxhbmNlcnM6ICcgKyBKU09OLnN0cmluZ2lmeSggdGhpcy5zZWFyY2hmcmVlbGFuY2VycykgKyAnICwgZjonICsgIEpTT04uc3RyaW5naWZ5KCB0aGlzLmZpbGV1cGxvYWRhcnIpKTtcclxuICAgICAgICAvLyAgIHRoaXMubG9jYWxTZXJ2aWNlXHJcbiAgICAgICAgLy8gICAudXBkYXRlKHRoaXMuc2VhcmNoZnJlZWxhbmNlcnMsdGhpcy5maWxldXBsb2FkYXJyKVxyXG4gICAgICAgIC8vICAgLnN1YnNjcmliZShcclxuICAgICAgICAvLyAgICAgLyogaGFwcHkgcGF0aCAqLyBwID0+IHRoaXMuc2VhcmNoZnJlZWxhbmNlcnNzID0gcCxcclxuICAgICAgICAvLyAgICAgLyogZXJyb3IgcGF0aCAqLyBlID0+IGNvbnNvbGUubG9nKGUpLFxyXG4gICAgICAgIC8vICAgICAvKiBvbkNvbXBsZXRlICovICgpID0+IHRoaXMubXNncy5wdXNoKHtzZXZlcml0eTonaW5mbycsIHN1bW1hcnk6J1N1Y2Nlc3MnLCBkZXRhaWw6J0Zvcm0gVXBkYXRlIFN1Y2Nlc3NmdWxseSd9KSk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgICAgdGhpcy5zdWJtaXR0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgdGhpcy5tc2dzID0gW107XHJcbiAgICAgICAgICB0aGlzLm1zZ3MucHVzaCh7c2V2ZXJpdHk6J2luZm8nLCBzdW1tYXJ5OidTdWNjZXNzJywgZGV0YWlsOidGb3JtIFVwZGF0ZSBTdWNjZXNzZnVsbHknfSk7XHJcbiAgfVxyXG5cclxuICAvL3VwbG9hZCBmaWxlcyB0byB0aGUgc2VydmVyXHJcbm9uVXBsb2FkKGV2ZW50OiBhbnkpe1xyXG4gIC8vYWxlcnQoZXZlbnQuZmlsZXMpO1xyXG4gIGZvcihsZXQgZmlsZSBvZiBldmVudC5maWxlcykge1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICB0aGlzLnVwbG9hZGVkRmlsZXMucHVzaChmaWxlKTtcclxuICB9XHJcbiAgXHJcbiAgLy9jb25zb2xlLmxvZyhldmVudC54aHIucmVzcG9uc2UpO1xyXG4gIHRoaXMubXNncyA9IFtdO1xyXG4gIHRoaXMubXNncy5wdXNoKHtzZXZlcml0eTogJ2luZm8nLCBzdW1tYXJ5OiAnRmlsZSBVcGxvYWRlZCcsIGRldGFpbDogJyd9KTtcclxufVxyXG5cclxuICAvL0ZpbGUgdXBsb2FkIGV2ZW50XHJcbm9uQmVmb3JlVXBsb2FkKGV2ZW50IDphbnkgKXtcclxuICBldmVudC54aHIuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDttdWx0aXBhcnQvZm9ybS1kYXRhOycpO1xyXG4gIGNvbnNvbGUubG9nKFwibWl0aCBoZXJlOlwiKTtcclxufVxyXG5cclxuLy9Gb3JtIGluaXRcclxubmdPbkluaXQoKSB7IFxyXG4gICAgICAvL0NsZWFyIGV2ZW50IGFuZCBpbml0YWxpemUgb2JqZWN0c1xyXG4gICAgICB0aGlzLmNsZWFyKCk7XHJcbiAgICAgIC8vIGFsZXJ0KCdsb2FkaW5nIG5nLi4nKTtcclxuICAgICAgdmFyIGRhdGEgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdtZW1iZXJkZXRhaWxzJyk7XHJcblxyXG4gICAgICBjb25zb2xlLmxvZygnb25zZXNzaW9uU3RvcmFnZSA6ICcgKyBKU09OLnBhcnNlKGRhdGEpKTtcclxuICAgICAgbGV0IG9mY21lbXNlc3Npb246IE9GQ21lbVNlc3Npb24gPSBKU09OLnBhcnNlKGRhdGEpO1xyXG4gICAgICBsZXQgb2ZjbWVtc2Vzc2lvbl9pZCA9IG9mY21lbXNlc3Npb24ub2ZjbWVtc2Vzc2lvbl9pZDtcclxuICAgICAgY29uc29sZS5sb2coJ29mY21lbXNlc3Npb25faWQgOiAnICsgb2ZjbWVtc2Vzc2lvbl9pZCk7XHJcblxyXG4gICAgICBsZXQgbWVtYmVyX2lkID0gb2ZjbWVtc2Vzc2lvbi5vZmNtZW1iZXJzX2lkO1xyXG4gICAgICBcclxuXHJcbiAgICAgICAgICAgbGV0IGNhdGlkID0gJzYnO1xyXG5cclxuICAgIHRoaXMucG9zdGFqb2JTZXJ2aWNlLmdldFN1YkNhdChjYXRpZClcclxuICAgICAgLnN1YnNjcmliZShcclxuICAgICAgICAgICAgLyogaGFwcHkgcGF0aCAqLyBwID0+IHRoaXMuc3ViY2F0ID0gcCxcclxuICAgICAgICAgICAgLyogZXJyb3IgcGF0aCAqLyBlID0+IGNvbnNvbGUubG9nKGUpLFxyXG4gICAgICAgICAgICAvKiBvbkNvbXBsZXRlICovKCkgPT4gdGhpcy5wcm9jZXNzZGF0YSgpKTsvL3RoaXMubXNncy5wdXNoKHsgc2V2ZXJpdHk6ICdpbmZvJywgc3VtbWFyeTogJ1N1Y2Nlc3MnLCBkZXRhaWw6ICdGb3JtIFVwZGF0ZSBTdWNjZXNzZnVsbHknIH0pKTtcclxuXHJcbiBcclxuXHJcblxyXG4gICAgICAgIHRoaXMubG9jYWxTZXJ2aWNlXHJcbiAgICAgIC5nZXRhbGwob2ZjbWVtc2Vzc2lvbl9pZClcclxuICAgICAgLnN1YnNjcmliZShcclxuICAgICAgICAgLyogaGFwcHkgcGF0aCAqLyBwID0+IHRoaXMuZnJlZWxhbmNlcm1lbWJlcnM9cCxcclxuICAgICAgICAgLyogZXJyb3IgcGF0aCAqLyBlID0+IGNvbnNvbGUubG9nKCBlKSxcclxuICAgICAgICAgLyogb25Db21wbGV0ZSAqLyAoKSA9PiB0aGlzLnByb2Nlc3NkYXRhKCkpO1xyXG4gXHJcbiAgICAgICB0aGlzLnBvc3Rham9iU2VydmljZS5nZXRDb3VudHJ5KCdoaicpLnN1YnNjcmliZShwID0+IHsgdGhpcy5kcnBDb3VudHJ5SWQgPSBwOyB0aGlzLmRycENvdW50cnlJZC51bnNoaWZ0KHsgbGFiZWw6IFwiU2VsZWN0IENvdW50cnlcIiwgdmFsdWU6IFwiMVwiIH0pIH0sIGUgPT4gY29uc29sZS5sb2coZSksICgpID0+IGNvbnNvbGUubG9nKHRoaXMuZHJwQ291bnRyeUlkKSk7XHJcbiAgICAgIHRoaXMucG9zdGFqb2JTZXJ2aWNlLmdldExhbmd1YWdlKCdoaicpLnN1YnNjcmliZShwID0+IHsgdGhpcy5kcnBMYW5ndWFnZUlkID0gcDsgdGhpcy5kcnBMYW5ndWFnZUlkLnVuc2hpZnQoeyBsYWJlbDogXCJTZWxlY3QgTGFuZ3VhZ2VcIiwgdmFsdWU6IFwiMVwiIH0pIH0sIGUgPT4gY29uc29sZS5sb2coZSksICgpID0+IGNvbnNvbGUubG9nKHRoaXMuZHJwTGFuZ3VhZ2VJZCkpO1xyXG5cclxuICAgICAgICBcclxuICAgICAgICBsZXQgYTpTZWxlY3RJdGVtPXtsYWJlbDpcIlNlbGVjdCBQcmljZVwiLHZhbHVlOlwiMFwifTtcclxuICAgICAgICB0aGlzLnByaWNlcmFuZ2UucHVzaChhKTtcclxuICAgICAgICAgXHJcbiAgICAgICAgbGV0IGI6U2VsZWN0SXRlbT17bGFiZWw6XCJTZWxlY3QgRGF0ZVwiLHZhbHVlOlwiMFwifTtcclxuICAgICAgICB0aGlzLmRhdGVyYW5nZS5wdXNoKGIpO1xyXG4gICAgICAgICAgXHJcbiAgICAgIC8vIGFsZXJ0KCB0aGlzLnN0YXJ0ZGF0ZS5nZXREYXkgKyAnLycgK3RoaXMuc3RhcnRkYXRlLmdldE1vbnRoICsgJy8nICt0aGlzLnN0YXJ0ZGF0ZS5nZXRGdWxsWWVhcik7IFxyXG4gICAgICAvLyBhbGVydCggJ251bWJlcjogJyArIHRoaXMubXljdXIucGFyc2UoXCIxMFwiKSk7XHJcbiAgICAgIC8vIGxldCBibDogYm9vbGVhbjtcclxuICAgICAgLy8gYmwgPSAgdGhpcy5lbWFpbHZhbC5wYXJzZSgnYXR1bGt1bHZlZ21haWwuY29tJywnJyk7XHJcbiAgICAgIC8vIGFsZXJ0KGJsICk7XHJcblxyXG4gICAgICAvL0NyZWF0ZSB1c2VyZm9ybSBhbmQgYXBwbHkgVmFsaWRhdGlvblxyXG4gICAgICAvLyBhbGVydCh0aGlzLm15ZGF0ZTEucGFyc2UoICcyMDE2LTEyLTEzVDE4OjMwOjAwLjAwMFonKSk7XHJcbiAgICAgIC8vIHRoaXMudXNlcmZvcm0gPSB0aGlzLmZiLmdyb3VwKHtcclxuICAgICAgLy8gICAgICAgJ25hbWUnOiBuZXcgRm9ybUNvbnRyb2woJycsIFZhbGlkYXRvcnMuY29tcG9zZShbVmFsaWRhdG9ycy5yZXF1aXJlZCxDdXN0b21WYWxpZGF0b3IuaXNFbWFpbFZhbGlkXSkpLFxyXG4gICAgICAvLyAgICAgICAgJ2J1ZGdldCc6IG5ldyBGb3JtQ29udHJvbCgnJywgVmFsaWRhdG9ycy5yZXF1aXJlZCksXHJcbiAgICAgIC8vICAgICAgICAncmVtYXJrcyc6IG5ldyBGb3JtQ29udHJvbCgnJywgVmFsaWRhdG9ycy5yZXF1aXJlZCksXHJcbiAgICAgIC8vICAgICAgICAnbWFuaG91cnMnOiBuZXcgRm9ybUNvbnRyb2woJycsIFZhbGlkYXRvcnMucmVxdWlyZWQpLFxyXG4gICAgICAvLyAgICAgICAgJ3N0YXJ0ZGF0ZXYnOiBuZXcgRm9ybUNvbnRyb2woJycsIFZhbGlkYXRvcnMucmVxdWlyZWQpLFxyXG4gICAgICAvLyAgICAgICAgJ2VuZGRhdGV2JzogbmV3IEZvcm1Db250cm9sKCcnLCBWYWxpZGF0b3JzLnJlcXVpcmVkKSxcclxuICAgICAgLy8gICAgICAgICd0aW1lZnJhbWUnOiBuZXcgRm9ybUNvbnRyb2woJycsIFZhbGlkYXRvcnMucmVxdWlyZWQpLFxyXG4gICAgICAvLyAgICAgICAgJ2NvbXBsZXRlZCc6IG5ldyBGb3JtQ29udHJvbCgnJywgVmFsaWRhdG9ycy5yZXF1aXJlZCksXHJcbiAgICAgIC8vICAgICAgICAnY29tbWlzc2lvbic6IG5ldyBGb3JtQ29udHJvbCgnJywgVmFsaWRhdG9ycy5yZXF1aXJlZCksXHJcbiAgICAgIC8vICAgICAgICAnZGVzY3JpcHRpb24nOiBuZXcgRm9ybUNvbnRyb2woJycsIFZhbGlkYXRvcnMucmVxdWlyZWQpLFxyXG4gICAgICAvLyAgICAgICAgJ2RheXNyZXF1aXJlZCc6IG5ldyBGb3JtQ29udHJvbCgnJywgVmFsaWRhdG9ycy5yZXF1aXJlZCksXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAvLyAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vcHJlbG9hZCBkYXRhIEdyaWQgcmVxdWlyZWQgXHJcbiAgICAgIC8vICAgdGhpcy5sb2NhbFNlcnZpY2VcclxuICAgICAgLy8gLmdldGFsbCgpXHJcbiAgICAgIC8vIC5zdWJzY3JpYmUoXHJcbiAgICAgIC8vICAgIC8qIGhhcHB5IHBhdGggKi8gcCA9PiB0aGlzLnNlYXJjaGZyZWVsYW5jZXJzcz1wLFxyXG4gICAgICAvLyAgICAvKiBlcnJvciBwYXRoICovIGUgPT4gY29uc29sZS5sb2coIGUpLFxyXG4gICAgICAvLyAgICAvKiBvbkNvbXBsZXRlICovICgpID0+IHRoaXMucHJvY2Vzc2RhdGEoKSk7XHJcblxyXG4gICAgICAgICBcclxuICAgICAgICBcclxuICB9XHJcbiAgcHJvY2Vzc2RhdGEoKXtcclxuICAgIFxyXG5cclxuICB9XHJcbiAgcG9wdWxhdGVkcnAoKXsgLy9wb3B1bGF0ZSBkcm9wZG93bnMgb24gcGFnZSBsb2FkLiBieSB1c2luZyBwdXNoIGFuZCBTZWxlY3RJdGVtXHJcbiAgICAvL2NvbnNvbGUubG9nKHRoaXMuZHJwdmFyLmxlbmd0aCk7XHJcbiAgICAgICAgZm9yKHZhciBpID0wO2k8dGhpcy5kcnB2YXIubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICAvL2FsZXJ0KHRoaXMuZHJwdmFyW2ldLmxhYmVsZCArICcgOiAnICArIHRoaXMuZHJwdmFyW2ldLnZhbHVlZCk7XHJcbiAgICAgICAgICAgdGhpcy5kcnBzZWFyY2hmcmVlbGFuY2Vycy5wdXNoKHtsYWJlbDp0aGlzLmRycHZhcltpXS5sYWJlbGQgLCB2YWx1ZTp0aGlzLmRycHZhcltpXS52YWx1ZWR9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gYWxlcnQoSlNPTi5zdHJpbmdpZnkodGhpcy5kcnBzZWFyY2hmcmVlbGFuY2VycykpO1xyXG5cclxuICB9XHJcblxyXG4gIC8vRHJvcGRvd24gY2hhbmdlIGV2ZW50IGNhcHR1cmVcclxuICBkcnBjaGFuZ2UoZXZlbnRzMTogYW55KXtcclxuICAgIC8vIGFsZXJ0KGV2ZW50czEudmFsdWUpO1xyXG4gIH1cclxuXHJcbmdldFNraWxsTGlzdChza2lsbExpc3Q6U2tpbGxbXSk6c3RyaW5ne1xyXG4gICAgICAgIGxldCBhOnN0cmluZz1cIlwiO1xyXG5cclxuICAgICAgICBmb3IobGV0IGk9MDtpPHNraWxsTGlzdC5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgICAgICAgbGV0IGM9c2tpbGxMaXN0W2ldLnNraWxsX25hbWU7XHJcbiAgICAgICAgICAgICAgIGxldCBiPSc8ZGl2IGNsYXNzPVwic2tpbGxzXCI+JytjKyc8L2Rpdj4nO1xyXG4gICAgICAgICAgICAgICAgYSs9YjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGE7XHJcbiAgICB9XHJcblxyXG4gICBzdWJjYXRDbGljayhldmVudDogYW55KSB7XHJcbiAgICB0aGlzLmtleXdvcmQgPSBbXTtcclxuICAgIHRoaXMuc2VsZWN0ZWRUeXBlc2tleXdvcmQgPSBbXTtcclxuXHJcbiAgICBcclxuICAgIGxldCBzdWJjYXRpZCA9IHRoaXMuc2VsZWN0ZWRUeXBlc3ViY2F0O1xyXG5cclxuICAgIC8vdGhpcy5wcm9qZWN0cG9zdC5zdWJjYXRfaWRfZmtwcm9qZWN0cG9zdCA9IHN1YmNhdGlkO1xyXG5cclxuICAgIHRoaXMucG9zdGFqb2JTZXJ2aWNlLmdldEtleXdvcmRCeVN1YkNhdChzdWJjYXRpZClcclxuICAgICAgLnN1YnNjcmliZShcclxuICAgICAgICAgICAgLyogaGFwcHkgcGF0aCAqLyBwID0+IHRoaXMua2V5d29yZCA9IHAsXHJcbiAgICAgICAgICAgIC8qIGVycm9yIHBhdGggKi8gZSA9PiBjb25zb2xlLmxvZyhlKSxcclxuICAgICAgICAgICAgLyogb25Db21wbGV0ZSAqLygpID0+IHRoaXMucHJvY2Vzc2RhdGEoKSk7Ly90aGlzLm1zZ3MucHVzaCh7IHNldmVyaXR5OiAnaW5mbycsIHN1bW1hcnk6ICdTdWNjZXNzJywgZGV0YWlsOiAnRm9ybSBVcGRhdGUgU3VjY2Vzc2Z1bGx5JyB9KSk7XHJcblxyXG5cclxuIFxyXG5cclxuICB9XHJcblxyXG4gICBcclxuXHJcbiAgLy9KdXN0IGEgbWV0aG9kIHRvIGNhbGwgdXNlciBmb3JtIGRhdGEgb24gZm9ybSBzdWJtaXRcclxuICBnZXQgZGlhZ25vc3RpYygpIHsgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMudXNlcmZvcm0udmFsdWUpOyB9XHJcblxyXG4gfVxyXG5cclxuIFxyXG4iXX0=
